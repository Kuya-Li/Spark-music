(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1903718c"],{1900:function(e,t,i){},"2e3c":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_edit page_i_want_to_customize",attrs:{id:"i_want_to_customize_edit"}},[t("div",{staticClass:"warp"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row diy_edit_content_box"},[e.$check_field("set","trade_name")||e.$check_field("add","trade_name")||e.$check_field("get","trade_name")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(0),t("div",{staticClass:"diy_field diy_text"},[e.form["trade_name"]&&e.$check_field("set","trade_name")||!e.form["trade_name"]&&e.$check_field("add","trade_name")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["trade_name"],expression:"form['trade_name']"}],attrs:{type:"text",id:"form_trade_name",placeholder:"请输入商品名称",disabled:e.disabledObj["trade_name_isDisabled"]},domProps:{value:e.form["trade_name"]},on:{input:function(t){t.target.composing||e.$set(e.form,"trade_name",t.target.value)}}}):e.$check_field("get","trade_name")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","seller_account")||e.$check_field("add","seller_account")||e.$check_field("get","seller_account")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(1),t("div",{staticClass:"diy_field diy_down"},[e.form["seller_account"]&&e.$check_field("set","seller_account")||!e.form["seller_account"]&&e.$check_field("add","seller_account")?t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["seller_account"],expression:"form['seller_account']"}],attrs:{id:"form_seller_account",disabled:e.disabledObj["seller_account_isDisabled"]},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"seller_account",t.target.multiple?i:i[0])}}},e._l(e.list_user_seller_account,(function(i){return t("option",{domProps:{value:i["user_id"]}},[e._v(" "+e._s(i["nickname"]+"-"+i["username"])+" ")])})),0):e.$check_field("get","seller_account")?t("span",[e._v(e._s(e.form["seller_account"]))]):e._e()])]):e._e(),e.$check_field("set","purchase_quantity")||e.$check_field("add","purchase_quantity")||e.$check_field("get","purchase_quantity")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(2),t("div",{staticClass:"diy_field diy_number"},[e.form["purchase_quantity"]&&e.$check_field("set","purchase_quantity")||!e.form["purchase_quantity"]&&e.$check_field("add","purchase_quantity")?t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.form["purchase_quantity"],expression:"form['purchase_quantity']",modifiers:{number:!0}}],attrs:{type:"number",id:"form_purchase_quantity",placeholder:"请输入购买数量",disabled:e.disabledObj["purchase_quantity_isDisabled"]},domProps:{value:e.form["purchase_quantity"]},on:{input:function(t){t.target.composing||e.$set(e.form,"purchase_quantity",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}):e.$check_field("get","purchase_quantity")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","price")||e.$check_field("add","price")||e.$check_field("get","price")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(3),t("div",{staticClass:"diy_field diy_text"},[e.form["price"]&&e.$check_field("set","price")||!e.form["price"]&&e.$check_field("add","price")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["price"],expression:"form['price']"}],attrs:{type:"text",id:"form_price",placeholder:"请输入价格",disabled:e.disabledObj["price_isDisabled"]},domProps:{value:e.form["price"]},on:{input:function(t){t.target.composing||e.$set(e.form,"price",t.target.value)}}}):e.$check_field("get","price")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","total_amount")||e.$check_field("add","total_amount")||e.$check_field("get","total_amount")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(4),t("div",{staticClass:"diy_field diy_text"},[e.form["total_amount"]&&e.$check_field("set","total_amount")||!e.form["total_amount"]&&e.$check_field("add","total_amount")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["total_amount"],expression:"form['total_amount']"}],attrs:{type:"text",id:"form_total_amount",placeholder:"请输入总金额",disabled:e.disabledObj["total_amount_isDisabled"]},domProps:{value:e.form["total_amount"]},on:{focus:function(t){return e.set_total_amount()},input:function(t){t.target.composing||e.$set(e.form,"total_amount",t.target.value)}}}):e.$check_field("get","total_amount")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","user_number")||e.$check_field("add","user_number")||e.$check_field("get","user_number")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(5),t("div",{staticClass:"diy_field diy_down"},[e.form["user_number"]&&e.$check_field("set","user_number")||!e.form["user_number"]&&e.$check_field("add","user_number")?t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["user_number"],expression:"form['user_number']"}],attrs:{id:"form_user_number",disabled:e.disabledObj["user_number_isDisabled"]},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"user_number",t.target.multiple?i:i[0])}}},e._l(e.list_user_user_number,(function(i){return t("option",{domProps:{value:i["user_id"]}},[e._v(" "+e._s(i["nickname"]+"-"+i["username"])+" ")])})),0):e.$check_field("get","user_number")?t("span",[e._v(e._s(e.form["user_number"]))]):e._e()])]):e._e(),e.$check_field("set","customized_requirements")||e.$check_field("add","customized_requirements")||e.$check_field("get","customized_requirements")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(6),t("div",{staticClass:"diy_field diy_desc"},[e.form["customized_requirements"]&&e.$check_field("set","customized_requirements")||!e.form["customized_requirements"]&&e.$check_field("add","customized_requirements")?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form["customized_requirements"],expression:"form['customized_requirements']"}],attrs:{id:"form_customized_requirements",disabled:e.disabledObj["customized_requirements_isDisabled"]},domProps:{value:e.form["customized_requirements"]},on:{input:function(t){t.target.composing||e.$set(e.form,"customized_requirements",t.target.value)}}}):e.$check_field("get","customized_requirements")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","related_pictures")||e.$check_field("add","related_pictures")||e.$check_field("get","related_pictures")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(7),t("input",{staticStyle:{display:"none"},attrs:{type:"file",disabled:e.disabledObj["related_pictures_isDisabled"],id:"form_img_related_pictures",title:"related_pictures"},on:{change:function(t){return e.change_file(t.target.files,"related_pictures")}}}),e.form["related_pictures"]&&e.$check_field("set","related_pictures")?t("div",{staticClass:"diy_field diy_img"},[t("label",{attrs:{for:"form_img_related_pictures"}},[t("img",{attrs:{src:e.$fullUrl(e.form["related_pictures"])}})])]):!e.form["related_pictures"]&&e.$check_field("add","related_pictures")?t("div",{staticClass:"diy_field diy_img"},[e._m(8)]):e.$check_field("get","related_pictures")?t("div",{staticClass:"diy_field diy_img"},[t("img",{attrs:{src:e.$fullUrl(e.form["related_pictures"])}})]):e._e()]):e._e(),e.$check_field("set","completion_time")||e.$check_field("add","completion_time")||e.$check_field("get","completion_time")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(9),t("div",{staticClass:"diy_field diy_datetime"},[e.form["completion_time"]&&e.$check_field("set","completion_time")||!e.form["completion_time"]&&e.$check_field("add","completion_time")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["completion_time"],expression:"form['completion_time']"}],attrs:{type:"datetime-local",disabled:e.disabledObj["completion_time_isDisabled"],id:"form_completion_time",placeholder:"请输入完成时间"},domProps:{value:e.form["completion_time"]},on:{input:function(t){t.target.composing||e.$set(e.form,"completion_time",t.target.value)}}}):e.$check_field("get","completion_time")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","relevant_attachments")||e.$check_field("add","relevant_attachments")||e.$check_field("get","relevant_attachments")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(10),t("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"form_file_relevant_attachments",title:"relevant_attachments"},on:{change:function(t){return e.change_file(t.target.files,"relevant_attachments")}}}),e.form["relevant_attachments"]&&e.$check_field("set","relevant_attachments")?t("div",{staticClass:"diy_field diy_img"},[t("label",{attrs:{for:"form_file_relevant_attachments"}},[t("a",{staticStyle:{color:"rgb(64, 158, 255)"},attrs:{href:e.$fullUrl(e.form["relevant_attachments"]),target:"_blank"}},[e._v("点击下载")])])]):!e.form["relevant_attachments"]&&e.$check_field("add","relevant_attachments")?t("div",{staticClass:"diy_field diy_img"},[e._m(11)]):e.$check_field("get","relevant_attachments")?t("div",{staticClass:"diy_field diy_img"},[t("span",[e._v(e._s(e.form["relevant_attachments"])+" ")])]):e._e()]):e._e(),e.$check_field("set","customized_video")||e.$check_field("add","customized_video")||e.$check_field("get","customized_video")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(12),t("div",{staticClass:"diy_field diy_video"},[e.form["customized_video"]&&e.$check_field("set","customized_video")||!e.form["customized_video"]&&e.$check_field("add","customized_video")?t("input",{attrs:{type:"file",id:"form_video_customized_video",title:"customized_video"},on:{change:function(t){return e.change_file(t.target.files,"customized_video")}}}):e.$check_field("get","customized_video")?t("router-link",{attrs:{to:"/media/video?url="+e.form["${obj.name}"]}},[e._v("查看视频")]):e._e()],1)]):e._e(),e.$check_field("set","customize_audio")||e.$check_field("add","customize_audio")||e.$check_field("get","customize_audio")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(13),t("div",{staticClass:"diy_field diy_music"},[e.form["customize_audio"]&&e.$check_field("set","customize_audio")||!e.form["customize_audio"]&&e.$check_field("add","customize_audio")?t("input",{attrs:{type:"file",id:"form_music_customize_audio",title:"customize_audio"},on:{change:function(t){return e.change_file(t.target.files,"customize_audio")}}}):e.$check_field("get","customize_audio")?t("router-link",{attrs:{to:"/media/music?url="+e.form["${obj.name}"]}},[e._v("聆听音频")]):e._e()],1)]):e._e(),e.$check_field("set","required_date")||e.$check_field("add","required_date")||e.$check_field("get","required_date")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(14),t("div",{staticClass:"diy_field diy_date"},[e.form["required_date"]&&e.$check_field("set","required_date")||!e.form["required_date"]&&e.$check_field("add","required_date")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["required_date"],expression:"form['required_date']"}],attrs:{type:"date",disabled:e.disabledObj["required_date_isDisabled"],id:"form_required_date",placeholder:"请输入要求日期"},domProps:{value:e.form["required_date"]},on:{input:function(t){t.target.composing||e.$set(e.form,"required_date",t.target.value)}}}):e.$check_field("get","required_date")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","custom_category")||e.$check_field("add","custom_category")||e.$check_field("get","custom_category")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(15),t("div",{staticClass:"diy_field diy_down"},[e.form["custom_category"]&&e.$check_field("set","custom_category")||!e.form["custom_category"]&&e.$check_field("add","custom_category")?t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["custom_category"],expression:"form['custom_category']"}],attrs:{id:"form_custom_category"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"custom_category",t.target.multiple?i:i[0])}}},e._l(e.list_custom_category,(function(i){return t("option",{domProps:{value:i["custom_category"]}},[e._v(" "+e._s(i["custom_category"])+" ")])})),0):e.$check_field("get","custom_category")?t("span",[e._v(e._s(e.form["custom_category"]))]):e._e()])]):e._e(),e.$check_field("set","customization_details")||e.$check_field("add","customization_details")||e.$check_field("get","customization_details")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(16),t("div",{staticClass:"diy_field diy_desc"},[e.form["customization_details"]&&e.$check_field("set","customization_details")||!e.form["customization_details"]&&e.$check_field("add","customization_details")?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form["customization_details"],expression:"form['customization_details']"}],attrs:{id:"form_customization_details",disabled:e.disabledObj["customization_details_isDisabled"]},domProps:{value:e.form["customization_details"]},on:{input:function(t){t.target.composing||e.$set(e.form,"customization_details",t.target.value)}}}):e.$check_field("get","customization_details")?t("view",{domProps:{innerHTML:e._s(e.form["${obj.name}"])}}):e._e()])]):e._e(),e.$check_field("set","picking_category")||e.$check_field("add","picking_category")||e.$check_field("get","picking_category")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(17),t("div",{staticClass:"diy_field diy_down"},[e.form["picking_category"]&&e.$check_field("set","picking_category")||!e.form["picking_category"]&&e.$check_field("add","picking_category")?t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["picking_category"],expression:"form['picking_category']"}],attrs:{id:"form_picking_category"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"picking_category",t.target.multiple?i:i[0])}}},e._l(e.list_picking_category,(function(i){return t("option",{domProps:{value:i}},[e._v(" "+e._s(i)+" ")])})),0):e.$check_field("get","picking_category")?t("span",[e._v(e._s(e.form["picking_category"]))]):e._e()])]):e._e(),"管理员"===e.user_group||e.$check_examine()?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(18),e.$check_action("/i_want_to_customize/edit","examine")?t("div",{staticClass:"diy_field diy_select"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["examine_state"],expression:"form['examine_state']"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"examine_state",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:"未审核"}},[e._v(" 未审核 ")]),t("option",{attrs:{value:"已通过"}},[e._v(" 已通过 ")]),t("option",{attrs:{value:"未通过"}},[e._v(" 未通过 ")])])]):t("div",{staticClass:"diy_field diy_text"},[t("span",[e._v(" "+e._s(e.form["examine_state"])+" ")])])]):e._e(),t("div",{staticClass:"form-item selected_seat_box col-12 col-md-6"},[t("div",{staticClass:"seat-wrapper"},[t("div",{staticClass:"illustration"},[t("div",{staticClass:"illustration-img-wrapper unselected-seat"}),t("span",{staticClass:"illustration-text"},[e._v("可选")]),t("div",{staticClass:"illustration-img-wrapper selected-seat"}),t("span",{staticClass:"illustration-text"},[e._v("已选")]),t("div",{staticClass:"illustration-img-wrapper bought-seat"}),t("span",{staticClass:"illustration-text"},[e._v("不可选")]),t("div",{staticClass:"btn-buy",on:{click:e.buySeat}},[e._v("选定座位")])]),t("div",{ref:"innerSeatWrapper",staticClass:"inner-seat-wrapper"},e._l(e.seatRow,(function(i){return t("div",{key:i},e._l(e.seatCol,(function(s){return e.seatArray.length>0?t("div",{staticClass:"seat",style:{width:e.seatSize+"px",height:e.seatSize+"px"}},[-1!==e.seatArray[i-1][s-1]?t("div",{staticClass:"inner-seat",class:2===e.seatArray[i-1][s-1]?"bought-seat":1===e.seatArray[i-1][s-1]?"selected-seat":"unselected-seat",on:{click:function(t){return e.handleChooseSeat(i-1,s-1)}}}):e._e()]):e._e()})),0)})),0)])])]),t("div",{staticClass:"diy_edit_submit_box row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"btn_box"},[t("button",{staticClass:"btn_submit",on:{click:function(t){return e.submit()}}},[e._v("提交")])])])])])])])},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 商品名称: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 卖家账号: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 购买数量: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 价格: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 总金额: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 用户编号: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 定制要求: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 相关图片: ")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"form_img_related_pictures"}},[t("div",{staticClass:"btn_add_img"},[t("span",[e._v("+")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 完成时间: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 相关附件: ")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"form_file_relevant_attachments"}},[t("div",{staticClass:"btn_add_img"},[t("span",[e._v("+")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 定制视频: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 定制音频: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 要求日期: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 定制类别: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 定制详情: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 取货类别: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 审核状态: ")])])}],r=i("c6e7"),o={mixins:[r["a"]],components:{},data(){return{url_get_obj:"~/api/i_want_to_customize/get_obj?",url_add:"~/api/i_want_to_customize/add?",url_set:"~/api/i_want_to_customize/set?",oauth:{signIn:!0,user_group:[]},query:{trade_name:"",seller_account:0,purchase_quantity:0,price:"",total_amount:"",user_number:0,customized_requirements:"",related_pictures:"",completion_time:"",relevant_attachments:"",customized_video:"",customize_audio:"",required_date:"",custom_category:"",customization_details:"",picking_category:"",i_want_to_customize_id:0,seat:""},obj:{trade_name:"",seller_account:0,purchase_quantity:0,price:"",total_amount:"",user_number:0,customized_requirements:"",related_pictures:"",completion_time:(new Date).getTime(),relevant_attachments:"",customized_video:"",customize_audio:"",required_date:(new Date).getTime(),custom_category:"",customization_details:"",picking_category:"",examine_state:"未审核",i_want_to_customize_id:0,seat:"",user_id:this.$store.state.user.user_id},form:{trade_name:"",seller_account:0,purchase_quantity:0,price:"",total_amount:"",user_number:0,customized_requirements:"",related_pictures:"",completion_time:(new Date).getTime(),relevant_attachments:"",customized_video:"",customize_audio:"",required_date:(new Date).getTime(),custom_category:"",customization_details:"",picking_category:"",examine_state:"未审核",i_want_to_customize_id:0,seat:"",user_id:this.$store.state.user.user_id},disabledObj:{trade_name_isDisabled:!1,seller_account_isDisabled:!1,price_isDisabled:!1,total_amount_isDisabled:!1,user_number_isDisabled:!1,customized_requirements_isDisabled:!1,related_pictures_isDisabled:!1,completion_time_isDisabled:!1,relevant_attachments_isDisabled:!1,customized_video_isDisabled:!1,customize_audio_isDisabled:!1,required_date_isDisabled:!1,custom_category_isDisabled:!1,customization_details_isDisabled:!1,picking_category_isDisabled:!1},list_user_seller_account:[],list_user_user_number:[],list_custom_category:[""],list_picking_category:["送货上门","快递"],field:"i_want_to_customize_id",seatArray:[],seatRow:5,seatCol:8,seatSize:"",seatArr:[],list_:[],seatList:"",limit_times:0,limit_type:0,act_limit_times:0}},methods:{submit_check(e){return this.act_limit_times>=this.limit_times?"已超过提交次数":null},check_limit(){let e=this;"管理员"===e.$store.state.user.user_group?e.limit_times=999:e.$get("~/api/customized_goods/get_obj?",{trade_name:e.form.trade_name},(function(t){if(t.result&&t.result.obj){e.limit_times=t.result.obj.limit_times,e.limit_type=t.result.obj.limit_type;let i=e.$store.state.user.user_id,s="~/api/i_want_to_customize/count?trade_name="+e.form.trade_name+"&user_id="+i;if(1===e.limit_type){let t=e.$toTime(parseInt((new Date).getTime()),"yyyy-MM-dd"),i="&create_time_min="+t+" 00:00:00&create_time_max="+t+" 23:59:59";s+=i}e.$get(s,{},(function(t){e.act_limit_times=t.result}))}}))},async get_list_user_seller_account(){var e=await this.$get("~/api/user/get_list?user_group=卖家");e.result&&e.result.list?this.list_user_seller_account=e.result.list:e.error&&console.error(e.error)},set_total_amount(){this.form.total_amount=parseFloat(this.form.purchase_quantity)*parseFloat(this.form.price);let e=/^\+?[1-9][0-9]*$/;e.test(this.form.total_amount)||(this.form.total_amount=this.form.total_amount.toFixed(2))},async get_list_user_user_number(){var e=await this.$get("~/api/user/get_list?user_group=商城用户");e.result&&e.result.list?this.list_user_user_number=e.result.list:e.error&&console.error(e.error)},async get_user_session_user_number(){var e=this,t=await this.$get("~/api/user_group/get_obj?name=商城用户");if(t.result&&t.result.obj){var i=t.result.obj.source_table,s=e.$store.state.user.user_id;if(s){var a="~/api/"+i+"/get_obj?";this.$get(a,{user_id:e.$store.state.user.user_id},(function(t){if(t.result&&t.result.obj){var i=[];for(let e in t.result.obj)i.push(e);var a=[];for(let t in e.form)a.push(t);e.form["user_number"]=s,e.disabledObj["user_number_isDisabled"]=!0;for(var r=0;r<i.length;r++)if("examine_state"!==i[r]&&"examine_reply"!==i[r])for(var o=0;o<a.length;o++)if(i[r]===a[o]&&"user_number"!==i[r]){e.form[a[o]]=t.result.obj[i[r]],e.disabledObj[a[o]+"_isDisabled"]=!0;break}}}))}}else t.error&&console.error(t.error)},async get_list_custom_category(){var e=await this.$get("~/api/classification_information/get_list?");e.result&&e.result.list?this.list_custom_category=e.result.list:e.error&&console.error(e.error)},change_file(e,t){var i=new FormData;i.append("file",e[0]),this.$post("~/api/i_want_to_customize/upload?",i,e=>{e.result?this.form[t]=e.result.url:e.error&&this.$toast(e.error.message)})},get_obj_before(e){var t=$.db.get("form");if(t){var i=[];for(let e in t)i.push(e);var s=[];for(let e in this.form)s.push(e);for(var a=0;a<i.length;a++)if("examine_state"!==i[a]&&"examine_reply"!==i[a])for(var r=0;r<s.length;r++)if(s[r]===i[a]){this.form[s[r]]=t[i[a]],this.obj[s[r]]=t[i[a]],this.disabledObj[s[r]+"_isDisabled"]=!0;break}}return-1===JSON.stringify(this.form["completion_time"]).indexOf("-")&&(this.form["completion_time"]=this.$toTime(parseInt(this.form["completion_time"]),"yyyy-MM-ddThh:mm")),-1===JSON.stringify(this.form["required_date"]).indexOf("-")&&(this.form["required_date"]=this.$toTime(parseInt(this.form["required_date"]),"yyyy-MM-dd")),$.db.del("form"),this.get_list(),e},get_obj_after(e,t){t&&t(e)},buySeat:function(){let e=this.seatArray.slice();for(let a=0;a<this.seatRow;a++)for(let t=0;t<this.seatCol;t++)1===e[a][t]&&(e[a][t]=2);this.seatArray=e;let t="";for(let a=0;a<e.length;a++){let i=e[a];for(let s=0;s<i.length;s++)2===e[a][s]&&(t=""==t?""+(8*a+s):t+","+(8*a+s))}let i=this.obj.seat,s="";if(""!=t&&null!=t){let e=t.split(","),a=this.seatList;if(0!=a.length){let t=a.split(",");for(let a=0;a<e.length;a++)-1==t.indexOf(e[a])&&-1==i.indexOf(e[a])&&(""==i||null==i?(i=e[a]+"",s=i):-1==i.indexOf(e[a])&&(i=i+","+e[a],s=""==s||null==s?e[a]:s+","+e[a]))}else i=t}""==this.form.seat?this.form.seat=i:""!=s&&(this.form.seat=this.form.seat+","+s),this.seatList=t},handleChooseSeat:function(e,t){let i=this.seatArray[e][t],s=this.seatArray;2!==i&&(1===i?s[e][t]=0:0===i&&(s[e][t]=1),this.seatArray=s.slice())},async get_list(){var e=await this.$get("~/api/i_want_to_customize/get_list");e.result&&e.result.list?this.list_=e.result.list:e.error&&console.error(e.error),console.log(e);let t=e.result.list;if(null!=t&&0!=t.length){let e="";for(let i=0;i<t.length;i++){let s=t[i].seat;null!=s&&""!=s&&(e=""==e?s+"":e+","+s)}this.seatList=e}this.initSeatArray(5,8)},initSeatArray:function(){let e=this.seatList,t=e.split(",");""!=e&&null!=e||(t=[]),this.seatArr=t;let i=Array(this.seatRow).fill(0).map(()=>Array(this.seatCol).fill(0));this.seatArray=i;for(let s=0;s<t.length;s++){let e=Math.floor(t[s]/8),a=t[s]%8;i[e][a]=2}this.seatSize=this.$refs.innerSeatWrapper?parseInt(parseInt(window.getComputedStyle(this.$refs.innerSeatWrapper).width,10)/this.seatCol,10):0}},created(){this.get_list_user_seller_account(),this.get_user_session_user_number(),this.get_list_user_user_number(),this.get_list_custom_category()},watch:{"form.trade_name":{handler:function(){this.check_limit()}}}},_=o,l=(i("a313"),i("0b56")),c=Object(l["a"])(_,s,a,!1,null,null,null);t["default"]=c.exports},a313:function(e,t,i){"use strict";i("1900")}}]);