(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fadcbcb"],{"0062":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page_message",attrs:{id:"message_index"}},[e("div",{staticClass:"warp"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"card_form_message flex_cc"},[e("div",{staticClass:"form_message"},[e("b-form",[e("b-form-group",{attrs:{id:"input-group-2",label:"标题:","label-for":"input-2",state:t.validation_title,"invalid-feedback":"不能为空","valid-feedback":"校验通过"}},[e("b-form-input",{attrs:{id:"input-2",type:"text",placeholder:"请输入标题",trim:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),e("b-form-group",{attrs:{id:"input-group-1",label:"用户名:","label-for":"input-1"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"用户名",trim:"",disabled:t.disabledObj.nickname_disabled},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1),e("b-form-group",{attrs:{id:"input-group-2",label:"手机号码:","label-for":"input-2",state:t.validation_phone,"invalid-feedback":"手机号码为11位","valid-feedback":"校验通过"}},[e("b-form-input",{attrs:{id:"input-2",type:"text",placeholder:"请输入手机号码",trim:"",disabled:t.disabledObj.phone_disabled},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),e("b-form-group",{attrs:{id:"input-group-2",label:"邮箱:","label-for":"input-2",state:t.validation_email,"invalid-feedback":"邮箱格式:example@163.com","valid-feedback":""}},[e("b-form-input",{attrs:{id:"input-2",type:"email",placeholder:"example@123.com",trim:"",disabled:t.disabledObj.email_disabled},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),e("b-form-group",{attrs:{id:"input-group-2",label:"留言内容:","label-for":"input-2",state:t.validation_content,"invalid-feedback":"最多12个字符","valid-feedback":""}},[e("b-form-textarea",{attrs:{id:"textarea",placeholder:"请输入你的留言...",rows:"3","max-rows":"6"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),e("div",{staticClass:"btns_bottom"},[e("div",{staticClass:"btn_item",on:{click:function(e){return t.submit()}}},[t._v("提交留言")])])],1)],1)])])])])])])},s=[],l=i("c6e7"),o={mixins:[l["a"]],data(){return{form:{title:"",nickname:"",content:"",phone:"",email:"",user_id:0,avatar:""},disabledObj:{nickname_disabled:!1,phone_disabled:!1,email_disabled:!1}}},created(){setTimeout(()=>{this.get_user()},500)},methods:{get_user(){let t=this.$store.state.user;t&&t.user_id&&(this.form.nickname=t.nickname,this.form.user_id=t.user_id,this.form.avatar=t.avatar,this.disabledObj.nickname_disabled=!0,t.email&&(this.form.email=t.email,this.disabledObj.email_disabled=!0),t.phone&&(this.form.phone=t.phone,this.disabledObj.phone_disabled=!0))},submit(){var t=this.validation_title&&this.validation_email&&this.validation_phone&&this.validation_content;t?this.$post("~/api/message/add?",this.form,t=>{t.result?this.$router.push("/message/list"):t.error&&this.$toast(t.error.message)}):this.$toast("输入不合法")}},computed:{validation_title(){var t=this.form.title.length;return t>0},validation_email(){var t=this.form.email.length;return!t||t>4&&t<17},validation_phone(){var t=this.form.phone.length;return t?t>1&&t<12:null},validation_content(){var t=this.form.content.length;return!t||t>1&&t<580}}},n=o,r=(i("cbc5"),i("0b56")),d=Object(r["a"])(n,a,s,!1,null,"4b3f280c",null);e["default"]=d.exports},"7f33":function(t,e,i){},cbc5:function(t,e,i){"use strict";i("7f33")}}]);