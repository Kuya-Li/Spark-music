(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f58ae17"],{"223e":function(t,e,a){},2617:function(t,e,a){"use strict";a("f4f6")},6048:function(t,e,a){"use strict";a("223e")},b9e7:function(t,e,a){"use strict";a("be35")},bc88:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list_menu"},[e("router-link",{staticClass:"menu_item",class:{selected:"/user_center/index"===this.$route.path},attrs:{to:"/user_center/index"}},[e("span",{staticClass:"left_span"},[t._v("个人首页")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]),"管理员"==t.user_group||t.$check_action("/mall_users/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/mall_users/table"===this.$route.path},attrs:{to:"/mall_users/table"}},[e("span",{staticClass:"left_span"},[t._v("商城用户")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/seller/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/seller/table"===this.$route.path},attrs:{to:"/seller/table"}},[e("span",{staticClass:"left_span"},[t._v("卖家")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/mall_center/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/mall_center/table"===this.$route.path},attrs:{to:"/mall_center/table"}},[e("span",{staticClass:"left_span"},[t._v("商城中心")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/customized_goods/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/customized_goods/table"===this.$route.path},attrs:{to:"/customized_goods/table"}},[e("span",{staticClass:"left_span"},[t._v("定制商品")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/i_want_to_customize/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/i_want_to_customize/table"===this.$route.path},attrs:{to:"/i_want_to_customize/table"}},[e("span",{staticClass:"left_span"},[t._v("我要定制")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/classification_information/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/classification_information/table"===this.$route.path},attrs:{to:"/classification_information/table"}},[e("span",{staticClass:"left_span"},[t._v("分类信息")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/website_announcement/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/website_announcement/table"===this.$route.path},attrs:{to:"/website_announcement/table"}},[e("span",{staticClass:"left_span"},[t._v("网站公告")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/hot_books/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/hot_books/table"===this.$route.path},attrs:{to:"/hot_books/table"}},[e("span",{staticClass:"left_span"},[t._v("热卖图书")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/forum/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/forum/table"===this.$route.path},attrs:{to:"/forum/table"}},[e("span",{staticClass:"left_span"},[t._v(t._s(t.$page_title("/forum/table")||"论坛"))]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/message/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/message/table"===this.$route.path},attrs:{to:"/message/table"}},[e("span",{staticClass:"left_span"},[t._v("测试留言板")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e(),"管理员"==t.user_group||t.$check_action("/exam/table","get")?e("router-link",{staticClass:"menu_item",class:{selected:"/exam/table"===this.$route.path},attrs:{to:"/exam/table"}},[e("span",{staticClass:"left_span"},[t._v("测试商城")]),e("span",{staticClass:"right_span"},[e("b-icon",{attrs:{icon:"house-fill"}})],1)]):t._e()],1)},i=[],r=a("c6e7"),l={mixins:[r["a"]],data(){return{}},mounted(){},methods:{},components:{}},o=l,c=(a("2617"),a("0b56")),_=Object(c["a"])(o,s,i,!1,null,"76a7030c",null);e["a"]=_.exports},be35:function(t,e,a){},f365:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page_user",attrs:{id:"user_address"}},[e("div",{staticClass:"warp"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-between"},[e("div",{staticClass:"col-12 col-md-3"},[e("div",{staticClass:"card_menu"},[e("list_admin_menu_user")],1)]),e("div",{staticClass:"col-12 col-md-9"},[e("div",{staticClass:"card_address pl-2"},[t._m(0),t.$check_action("/mall_center/table","get")?e("view_mall_center"):t._e()],1)])])])])])},i=[function(){var t=this,e=t._self._c;return e("div",[e("span",[t._v("商城中心")])])}],r=a("bc88"),l=function(){var t=this,e=t._self._c;return e("el-main",{staticClass:"bg edit_wrap"},[t.is_view()?e("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"","label-width":"120px"}},[e("el-row",{staticClass:"row_ce"},[e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"封面图",prop:"cart_avatar"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":t.upload_cart_img,"show-file-list":!1}},[t.form.cart_img?e("img",{staticClass:"avatar",attrs:{src:t.$fullUrl(t.form.cart_img)}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"主图_1",prop:"cart_avatar"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":t.upload_cart_img_1,"show-file-list":!1}},[t.form.cart_img_1?e("img",{staticClass:"avatar",attrs:{src:t.$fullUrl(t.form.cart_img_1)}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"主图_2",prop:"cart_avatar"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":t.upload_cart_img_2,"show-file-list":!1}},[t.form.cart_img_2?e("img",{staticClass:"avatar",attrs:{src:t.$fullUrl(t.form.cart_img_2)}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"主图_3",prop:"cart_avatar"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":t.upload_cart_img_3,"show-file-list":!1}},[t.form.cart_img_3?e("img",{staticClass:"avatar",attrs:{src:t.$fullUrl(t.form.cart_img_3)}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"主图_4",prop:"cart_avatar"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":t.upload_cart_img_4,"show-file-list":!1}},[t.form.cart_img_4?e("img",{staticClass:"avatar",attrs:{src:t.$fullUrl(t.form.cart_img_4)}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"主图_5",prop:"cart_avatar"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":t.upload_cart_img_5,"show-file-list":!1}},[t.form.cart_img_5?e("img",{staticClass:"avatar",attrs:{src:t.$fullUrl(t.form.cart_img_5)}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:12}},[e("el-form-item",{attrs:{label:"标题",prop:"cart_title"}},[e("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form.cart_title,callback:function(e){t.$set(t.form,"cart_title",e)},expression:"form.cart_title"}})],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:12}},[e("el-form-item",{attrs:{label:"描述",prop:"cart_description"}},[e("el-input",{attrs:{placeholder:"请输入描述"},model:{value:t.form.cart_description,callback:function(e){t.$set(t.form,"cart_description",e)},expression:"form.cart_description"}})],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"原价",prop:"cart_price_ago"}},[e("el-input-number",{model:{value:t.form.cart_price_ago,callback:function(e){t.$set(t.form,"cart_price_ago",e)},expression:"form.cart_price_ago"}})],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"卖价",prop:"cart_price"}},[e("el-input-number",{model:{value:t.form.cart_price,callback:function(e){t.$set(t.form,"cart_price",e)},expression:"form.cart_price"}})],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"库存",prop:"cart_inventory"}},[e("el-input-number",{attrs:{placeholder:"请输入库存"},model:{value:t.form.cart_inventory,callback:function(e){t.$set(t.form,"cart_inventory",e)},expression:"form.cart_inventory"}})],1)],1),e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"分类",prop:"cart_type"}},[e("el-select",{model:{value:t.form.cart_type,callback:function(e){t.$set(t.form,"cart_type",e)},expression:"form.cart_type"}},t._l(t.list_cart_goods_type,(function(t,a){return e("el-option",{key:a,attrs:{value:t.name,label:t.name}})})),1)],1)],1),"管理员"===t.user_group||t.$check_field("get","brand")||t.$check_field("add","brand")||t.$check_field("set","brand")?e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"品牌",prop:"brand"}},["管理员"===t.user_group||t.form["mall_center_id"]&&t.$check_field("set","brand")||!t.form["mall_center_id"]&&t.$check_field("add","brand")?e("el-input",{attrs:{id:"brand",placeholder:"请输入品牌",disabled:t.disabledObj["brand_isDisabled"]},model:{value:t.form["brand"],callback:function(e){t.$set(t.form,"brand",e)},expression:"form['brand']"}}):t.$check_field("get","brand")?e("div",[t._v(t._s(t.form["brand"]))]):t._e()],1)],1):t._e(),"管理员"===t.user_group||t.$check_field("get","specifications")||t.$check_field("add","specifications")||t.$check_field("set","specifications")?e("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",{attrs:{label:"规格",prop:"specifications"}},["管理员"===t.user_group||t.form["mall_center_id"]&&t.$check_field("set","specifications")||!t.form["mall_center_id"]&&t.$check_field("add","specifications")?e("el-input",{attrs:{id:"specifications",placeholder:"请输入规格",disabled:t.disabledObj["specifications_isDisabled"]},model:{value:t.form["specifications"],callback:function(e){t.$set(t.form,"specifications",e)},expression:"form['specifications']"}}):t.$check_field("get","specifications")?e("div",[t._v(t._s(t.form["specifications"]))]):t._e()],1)],1):t._e(),e("el-col",{staticClass:"el_form_editor_warp",attrs:{xs:24,sm:24,lg:24}},[e("el-form-item",{attrs:{label:"正文",prop:"cart_content"}},[e("quill-editor",{model:{value:t.form.cart_content,callback:function(e){t.$set(t.form,"cart_content",e)},expression:"form.cart_content"}})],1)],1)],1),e("el-col",{staticClass:"el_form_btn_warp",attrs:{xs:24,sm:12,lg:8}},[e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("提交")]),e("el-button",{on:{click:function(e){return t.cancel()}}},[t._v("取消")])],1)],1)],1):t._e()],1)},o=[],c=a("c6e7"),_={mixins:[c["a"]],data(){return{field:"mall_center_id",url_add:"~/api/mall_center/add?",url_set:"~/api/mall_center/set?",url_get_obj:"~/api/mall_center/get_obj?",url_upload:"~/api/mall_center/upload?",query:{mall_center_id:0},form:{brand:"",specifications:"",cart_title:"",cart_img:"",cart_description:"",cart_price_ago:0,cart_price:0,cart_inventory:0,cart_type:"",cart_content:"",cart_img_1:"",cart_img_2:"",cart_img_3:"",cart_img_4:"",cart_img_5:"",mall_center_id:0},disabledObj:{brand_isDisabled:!1,specifications_isDisabled:!1},list_cart_goods_type:[],goods_form:{goods_id:0,title:"",img:"",description:"",price_ago:0,price:0,inventory:0,type:"",content:"",img_1:"",img_2:"",img_3:"",img_4:"",img_5:"",source_table:"",source_field:"",source_id:0,user_id:this.$store.state.user.user_id}}},methods:{get_obj_before(t){var e="";return this.form&&e&&Object.keys(this.form).forEach(t=>{Object.keys(e).forEach(e=>{t===e&&(this.disabledObj[t+"_isDisabled"]=!0)})}),$.db.del("form"),t},get_obj_after(t,e){},submit_check(t){let e=null;return e},is_view(){var t="管理员"==this.user_group;return t||(t=this.$check_action("/mall_center/table","add"),console.log(t?"你有表格添加权限视作有添加权限":"你没有表格添加权限")),t||(t=this.$check_action("/mall_center/table","set"),console.log(t?"你有表格添加权限视作有修改权限":"你没有表格修改权限")),t||(t=this.$check_action("/mall_center/view","add"),console.log(t?"你有视图添加权限视作有添加权限":"你没有视图添加权限")),t||(t=this.$check_action("/mall_center/view","set"),console.log(t?"你有视图修改权限视作有修改权限":"你没有视图修改权限")),t||(t=this.$check_action("/mall_center/view","get"),console.log(t?"你有视图查询权限视作有查询权限":"你没有视图查询权限")),console.log(t?"具有当前页面的查看权，请注意这不代表你有字段的查看权":"无权查看当前页，请注意即便有字段查询权限没有页面查询权限也不行"),t},async get_cart_goods_type(){var t=await this.$get("~/api/goods_type/get_list?");this.list_cart_goods_type=t.result.list},upload_cart_img(t){this.uploadFile(t.file,"cart_img")},upload_cart_img_1(t){this.uploadFile(t.file,"cart_img_1")},upload_cart_img_2(t){this.uploadFile(t.file,"cart_img_2")},upload_cart_img_3(t){this.uploadFile(t.file,"cart_img_3")},upload_cart_img_4(t){this.uploadFile(t.file,"cart_img_4")},upload_cart_img_5(t){this.uploadFile(t.file,"cart_img_5")},submit_after(){if(console.log(this.form[this.field]),this.form[this.field])this.submit_goods(this.form[this.field],"set");else{let t={cart_title:this.form.cart_title,cart_description:this.form.cart_description};this.$get("~/api/mall_center/get_obj?",t,t=>{console.log("商品息res",t),t.result&&t.result.obj?this.submit_goods(t.result.obj[this.field],"add"):t.error&&(console.error(t.error),this.$toast(t.error.message,"error"))})}},submit_goods(t,e){let a=[];a.push({field_name:"品牌",field_value:this.form.brand}),a.push({field_name:"规格",field_value:this.form.specifications}),this.goods_form={goods_id:0,title:this.form.cart_title,img:this.form.cart_img,description:this.form.cart_description,price_ago:this.form.cart_price_ago,price:this.form.cart_price,inventory:this.form.cart_inventory,type:this.form.cart_type,content:this.form.cart_content,img_1:this.form.cart_img_1,img_2:this.form.cart_img_2,img_3:this.form.cart_img_3,img_4:this.form.cart_img_4,img_5:this.form.cart_img_5,source_table:"mall_center",source_field:this.field,source_id:t,customize_field:JSON.stringify(a),user_id:this.$store.state.user.user_id},"set"===e?(delete this.goods_form.goods_id,delete this.goods_form.user_id,this.$post("~/api/goods/set?source_table=mall_center&source_field="+this.field+"&source_id="+t,this.goods_form,t=>{console.log("提交结果：",t),t.result?(this.$toast("修改成功!","success"),this.$router.go(-1)):t.error&&(console.error(t.error),this.$toast(t.error.message,"error"))})):this.$post("~/api/goods/add?",this.goods_form,t=>{console.log("提交结果：",t),t.result?(this.$toast("添加成功!","success"),this.$router.go(-1)):t.error&&(console.error(t.error),this.$toast(t.error.message,"error"))})},uploadimg(t){this.uploadFile(t.file,"avatar")}},created(){this.get_cart_goods_type()}},n=_,m=(a("b9e7"),a("0b56")),p=Object(m["a"])(n,l,o,!1,null,null,null),u=p.exports,f={data(){return{}},mounted(){},methods:{},components:{list_admin_menu_user:r["a"],view_mall_center:u}},d=f,g=(a("6048"),Object(m["a"])(d,s,i,!1,null,"03777023",null));e["default"]=g.exports},f4f6:function(t,e,a){}}]);