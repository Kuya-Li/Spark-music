(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f6396652"],{bc53:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"diy_edit forum_edits page_i_want_to_customize",attrs:{id:"i_want_to_customize_edit"}},[i("div",{staticClass:"warp"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row form"},[i("div",{staticClass:"col-12 col-md-12 form_img",staticStyle:{"margin-top":"50px"}},[t._m(0),i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"img",title:"avatar"},on:{change:function(i){return t.change_file(i.target.files,"img")}}}),t.form.img?i("div",{staticClass:"diy_field diy_img"},[i("label",{attrs:{for:"img"}},[i("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.$fullUrl(t.form.img)}})])]):i("div",{staticClass:"diy_field diy_img"},[t._m(1)])]),i("div",{staticClass:"col-12 col-md-12 form_item",staticStyle:{"margin-top":"20px"}},[t._m(2),i("div",{staticClass:"diy_field diy_text diy_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],attrs:{type:"text",id:"title",placeholder:"请输入标题"},domProps:{value:t.form.title},on:{input:function(i){i.target.composing||t.$set(t.form,"title",i.target.value)}}})])]),i("div",{staticClass:"col-12 col-md-12 form_item"},[t._m(3),i("div",{staticClass:"diy_field diy_text diy_input"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],attrs:{id:"type"},on:{change:function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.$set(t.form,"type",i.target.multiple?e:e[0])}}},t._l(t.list_forum_type,(function(e){return i("option",{domProps:{value:e.name}},[t._v(" "+t._s(e.name)+" ")])})),0)])]),i("div",{staticClass:"col-12 col-md-12 form_item"},[t._m(4),i("div",{staticClass:"diy_field diy_text diy_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.tag,expression:"form.tag"}],attrs:{type:"text",id:"tag",placeholder:"请输入标签，多个标签输入|分隔"},domProps:{value:t.form.tag},on:{input:function(i){i.target.composing||t.$set(t.form,"tag",i.target.value)}}})])]),i("div",{staticClass:"col-12 col-md-12 form_editor"},[t._m(5),i("div",{staticClass:"diy_field diy_text",staticStyle:{"margin-left":"40px"}},[i("quill-editor",{staticClass:"form_editor_block",model:{value:t.form.content,callback:function(i){t.$set(t.form,"content",i)},expression:"form.content"}})],1)]),i("div",{staticClass:"col-12 col-md-12",staticStyle:{height:"100px"}},[i("button",{staticClass:"submit_button",on:{click:function(i){return t.submit()}}},[i("span",[t._v("发表内容")])])])])])])])},a=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"diy_title"},[i("span",[t._v("封面图: ")])])},function(){var t=this,i=t._self._c;return i("label",{attrs:{for:"img"}},[i("div",{staticClass:"btn_add_img"},[i("span",[t._v("+")])])])},function(){var t=this,i=t._self._c;return i("div",{staticClass:"diy_title"},[i("span",[t._v("标题: ")])])},function(){var t=this,i=t._self._c;return i("div",{staticClass:"diy_title"},[i("span",[t._v("分类: ")])])},function(){var t=this,i=t._self._c;return i("div",{staticClass:"diy_title"},[i("span",[t._v("标签: ")])])},function(){var t=this,i=t._self._c;return i("div",{staticClass:"diy_title"},[i("span",[t._v("正文: ")])])}],r=e("c6e7"),o={mixins:[r["a"]],data(){return{field:"forum_id",url_add:"~/api/forum/add?",url_set:"~/api/forum/set?",url_get_obj:"~/api/forum/get_obj?",url_upload:"~/api/forum/upload?",query:{forum_id:0},list_forum_type:[],form:{forum_id:0,user_id:this.$store.state.user.user_id,display:0,nickname:this.$store.state.user.nickname,hits:0,title:"",keywords:"",description:"",url:"",tag:"",img:"",content:"",avatar:this.$store.state.user.avatar,type:""}}},methods:{change_file(t,i){var e=new FormData;e.append("file",t[0]),this.$post("~/api/forum/upload?",e,t=>{t.result?(this.form[i]=t.result.url,console.log(this.form.img)):t.error&&this.$toast(t.error.message)})},async submit_check(t){var i="";if(""===t.title)return i="标题不能为空",i;var e=await this.filterSensitiveWords(t.content);if(e.length>0)return"当前消息中包含敏感词: "+e.join(",");var s=await this.filterSensitiveWords(t.title);if(s.length>0)return"当前标题中包含敏感词: "+e.join(",");var a=await this.filterSensitiveWords(t.tag);return a.length>0?"当前标签中包含敏感词: "+e.join(","):void 0},async get_forum_type(){var t=await this.$get("~/api/forum_type/get_list?");t.result?this.list_forum_type=t.result.list:t.error&&console.error(t.error)}},created(){this.get_forum_type()}},l=o,n=(e("ea86"),e("0b56")),c=Object(n["a"])(l,s,a,!1,null,"1e26bd91",null);i["default"]=c.exports},c92c:function(t,i,e){},ea86:function(t,i,e){"use strict";e("c92c")}}]);