(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3baac0a"],{3065:function(t,e,a){},"4d9d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",{staticClass:"bg edit_wrap message"},[a("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"","label-width":"120px"}},[a("el-row",{staticClass:"row_e"},[a("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[a("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":t.uploadimg,"show-file-list":!1}},[t.form.avatar?a("img",{staticClass:"avatar",attrs:{src:t.$fullUrl(t.form.avatar)}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),a("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{disabled:t.disabledObj.nickname_disabled,placeholder:"请输入昵称"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1)],1),a("el-col",{staticClass:"editor el_form_editor_warp",attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",readonly:!0},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)],1),a("el-col",{staticClass:"el_form_btn_warp",attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",[a("el-col",{staticClass:"el_form_btn el_form_btn_1",attrs:{xs:24,sm:24,lg:12}},[a("el-button",{staticStyle:{width:"100%",float:"left"},attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("提交")])],1),a("el-col",{staticClass:"el_form_btn el_form_btn_2",attrs:{xs:24,sm:24,lg:12}},[a("el-button",{staticStyle:{width:"100%",float:"right"},on:{click:function(e){return t.cancel()}}},[t._v("取消")])],1)],1)],1)],1)],1)},l=[],r=(a("96cf"),a("1da1")),i=a("c6e7"),n={mixins:[i["a"]],data:function(){return{table:"message",field:"message_id",url_add:"~/api/message/add?",url_set:"~/api/message/set?",url_get_obj:"~/api/message/get_obj?",url_upload:"~/api/message/upload?",query:{message_id:0},form:{message_id:0,avatar:"",title:"",nickname:"",content:"",reply_state:0},list_message:[],disabledObj:{nickname_disabled:!1}}},methods:{submit_check:function(t){var e="";return""===t.title?(e="标题不能为空",e):""===t.nickname?(e="昵称不能为空",e):-1===t.reply_id?(e="回复者错误",e):void 0},uploadimg:function(t){this.uploadFile(t.file,"avatar")},get_list_message:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$get("~/api/message/get_list?");case 2:a=e.sent,t.list_message=a.result.list;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this.$store.state.user;t&&t.user_id&&(this.form.nickname=t.nickname,this.disabledObj.nickname_disabled=!0),this.get_list_message()}},o=n,c=(a("ad5a"),a("2877")),m=Object(c["a"])(o,s,l,!1,null,null,null);e["default"]=m.exports},ad5a:function(t,e,a){"use strict";a("3065")}}]);