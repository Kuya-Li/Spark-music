(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc690a3c"],{"2bdf":function(t,e,r){"use strict";r.r(e);var l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-main",{staticClass:"bg edit_wrap forum"},[r("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"","label-width":"70px"}},[r("le-row",{staticClass:"row_e"},[r("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[r("el-form-item",{attrs:{label:"封面图",prop:"img"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":t.uploadImg,"show-file-list":!1}},[t.form.img?r("img",{staticClass:"avatar",attrs:{src:t.$fullUrl(t.form.img)}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),r("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),r("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[r("el-form-item",{attrs:{label:"分类"}},[r("el-select",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.list_forum_type,(function(t,e){return r("el-option",{key:e,attrs:{value:t.name,label:t.name}})})),1)],1)],1),r("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[r("el-form-item",{attrs:{label:"标签",prop:"tag"}},[r("el-input",{attrs:{placeholder:"请输入标签"},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}})],1)],1),r("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[r("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[r("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1)],1),r("el-col",{staticClass:"el_form_editor_warp",attrs:{xs:24,sm:24,lg:24}},[r("el-form-item",{attrs:{label:"正文",prop:"content"}},[r("quill-editor",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)],1),r("el-col",{staticClass:"el_form_btn_warp",attrs:{xs:24,sm:24,lg:24}},[r("el-form-item",[r("el-col",{staticClass:"el_form_btn el_form_btn_1",attrs:{xs:24,sm:24,lg:12}},[r("el-button",{staticStyle:{width:"100%",float:"left"},attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("提交")])],1),r("el-col",{staticClass:"el_form_btn el_form_btn_2",attrs:{xs:24,sm:24,lg:12}},[r("el-button",{staticStyle:{width:"100%",float:"right"},on:{click:function(e){return t.cancel()}}},[t._v("取消")])],1)],1)],1)],1)],1)},a=[],o=(r("96cf"),r("1da1")),s=r("c6e7"),i={mixins:[s["a"]],data:function(){return{field:"forum_id",url_add:"~/api/forum/add?",url_set:"~/api/forum/set?",url_get_obj:"~/api/forum/get_obj?",url_upload:"~/api/forum/upload?",query:{forum_id:0},list_forum_type:[],form:{forum_id:0,user_id:this.$store.state.user.user_id,display:0,nickname:"",hits:0,title:"",keywords:"",description:"",url:"",tag:"",img:"",content:"",avatar:"",type:""}}},methods:{submit_check:function(t){var e="";return""===t.title?(e="标题不能为空",e):""===t.nickname?(e="昵称不能为空",e):void 0},get_forum_type:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$get("~/api/forum_type/get_list?");case 2:r=e.sent,r.result?t.list_forum_type=r.result.list:r.error&&console.error(r.error);case 4:case"end":return e.stop()}}),e)})))()},uploadAvatar:function(t){this.uploadFile(t.file,"avatar")},uploadImg:function(t){this.uploadFile(t.file,"img")},submit_before:function(t){return console.log("提交前事件",t),t}},created:function(){this.get_forum_type()}},n=i,m=(r("8299"),r("2877")),c=Object(m["a"])(n,l,a,!1,null,null,null);e["default"]=c.exports},"78bf":function(t,e,r){},8299:function(t,e,r){"use strict";r("78bf")}}]);