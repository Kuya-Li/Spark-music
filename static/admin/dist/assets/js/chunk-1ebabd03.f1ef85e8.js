(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ebabd03"],{"21e4":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-main",{staticClass:"bg edit_wrap comtable_e"},[e.is_view()?s("el-form",{ref:"form",attrs:{model:e.form,"status-icon":"","label-width":"120px"}},[s("el-row",{staticClass:"row_ce"},["管理员"===e.user_group||e.$check_field("get","trade_name")||e.$check_field("add","trade_name")||e.$check_field("set","trade_name")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"商品名称",prop:"trade_name"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","trade_name")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","trade_name")?s("el-input",{attrs:{id:"trade_name",placeholder:"请输入商品名称",disabled:e.disabledObj["trade_name_isDisabled"]},model:{value:e.form["trade_name"],callback:function(t){e.$set(e.form,"trade_name",t)},expression:"form['trade_name']"}}):e.$check_field("get","trade_name")?s("div",[e._v(e._s(e.form["trade_name"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","seller_account")||e.$check_field("add","seller_account")||e.$check_field("set","seller_account")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"卖家账号",prop:"seller_account"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","seller_account")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","seller_account")?s("el-select",{attrs:{id:"seller_account",disabled:e.disabledObj["seller_account_isDisabled"]},model:{value:e.form["seller_account"],callback:function(t){e.$set(e.form,"seller_account",t)},expression:"form['seller_account']"}},e._l(e.list_user_seller_account,(function(e){return s("el-option",{key:e["username"],attrs:{label:e["nickname"]+"-"+e["username"],value:e["user_id"]}})})),1):e.$check_field("get","seller_account")?s("el-select",{attrs:{id:"seller_account",disabled:!0},model:{value:e.form["seller_account"],callback:function(t){e.$set(e.form,"seller_account",t)},expression:"form['seller_account']"}},e._l(e.list_user_seller_account,(function(e){return s("el-option",{key:e["username"],attrs:{label:e["nickname"]+"-"+e["username"],value:e["user_id"]}})})),1):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","purchase_quantity")||e.$check_field("add","purchase_quantity")||e.$check_field("set","purchase_quantity")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"购买数量",prop:"purchase_quantity"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","purchase_quantity")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","purchase_quantity")?s("el-input-number",{attrs:{id:"purchase_quantity",disabled:e.disabledObj["purchase_quantity_isDisabled"]},model:{value:e.form["purchase_quantity"],callback:function(t){e.$set(e.form,"purchase_quantity",e._n(t))},expression:"form['purchase_quantity']"}}):e.$check_field("get","purchase_quantity")?s("div",[e._v(e._s(e.form["purchase_quantity"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","price")||e.$check_field("add","price")||e.$check_field("set","price")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"价格",prop:"price"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","price")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","price")?s("el-input",{attrs:{id:"price",placeholder:"请输入价格",disabled:e.disabledObj["price_isDisabled"]},model:{value:e.form["price"],callback:function(t){e.$set(e.form,"price",t)},expression:"form['price']"}}):e.$check_field("get","price")?s("div",[e._v(e._s(e.form["price"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","total_amount")||e.$check_field("add","total_amount")||e.$check_field("set","total_amount")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"总金额",prop:"total_amount"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","total_amount")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","total_amount")?s("el-input",{attrs:{id:"total_amount",placeholder:"请输入总金额",disabled:e.disabledObj["total_amount_isDisabled"]},on:{focus:function(t){return e.set_total_amount()}},model:{value:e.form["total_amount"],callback:function(t){e.$set(e.form,"total_amount",t)},expression:"form['total_amount']"}}):e.$check_field("get","total_amount")?s("div",[e._v(e._s(e.form["total_amount"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","user_number")||e.$check_field("add","user_number")||e.$check_field("set","user_number")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"用户编号",prop:"user_number"}},["管理员"!==e.user_group?s("div",[e._v(" "+e._s(e.get_user_session_user_number(e.form["user_number"]))+" "),"管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","user_number")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","user_number")?s("el-select",{attrs:{id:"user_number",disabled:e.disabledObj["user_number_isDisabled"]},model:{value:e.form["user_number"],callback:function(t){e.$set(e.form,"user_number",t)},expression:"form['user_number']"}},e._l(e.list_user_user_number,(function(e){return s("el-option",{key:e["username"],attrs:{label:e["nickname"]+"-"+e["username"],value:e["user_id"]}})})),1):e.$check_field("get","user_number")?s("el-select",{attrs:{id:"user_number",disabled:!0},model:{value:e.form["user_number"],callback:function(t){e.$set(e.form,"user_number",t)},expression:"form['user_number']"}},e._l(e.list_user_user_number,(function(e){return s("el-option",{key:e["username"],attrs:{label:e["nickname"]+"-"+e["username"],value:e["user_id"]}})})),1):e._e()],1):s("el-select",{attrs:{id:"user_number",disabled:e.disabledObj["user_number_isDisabled"]},model:{value:e.form["user_number"],callback:function(t){e.$set(e.form,"user_number",t)},expression:"form['user_number']"}},e._l(e.list_user_user_number,(function(e){return s("el-option",{key:e["username"],attrs:{label:e["nickname"]+"-"+e["username"],value:e["user_id"]}})})),1)],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","customized_requirements")||e.$check_field("add","customized_requirements")||e.$check_field("set","customized_requirements")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"定制要求",prop:"customized_requirements"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","customized_requirements")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","customized_requirements")?s("el-input",{attrs:{type:"textarea",id:"customized_requirements",placeholder:"请输入定制要求",disabled:e.disabledObj["customized_requirements_isDisabled"]},model:{value:e.form["customized_requirements"],callback:function(t){e.$set(e.form,"customized_requirements",t)},expression:"form['customized_requirements']"}}):e.$check_field("get","customized_requirements")?s("div",[e._v(e._s(e.form["customized_requirements"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","related_pictures")||e.$check_field("add","related_pictures")||e.$check_field("set","related_pictures")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"相关图片",prop:"related_pictures"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","related_pictures")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","related_pictures")?s("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:e.disabledObj["related_pictures_isDisabled"],id:"related_pictures",drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":e.upload_related_pictures,"show-file-list":!1}},[e.form["related_pictures"]?s("img",{staticClass:"avatar",attrs:{src:e.$fullUrl(e.form["related_pictures"])}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]):e.$check_field("get","related_pictures")?s("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.$fullUrl(e.form["related_pictures"]),"preview-src-list":[e.$fullUrl(e.form["related_pictures"])]}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("img",{staticStyle:{width:"90px",height:"90px"},attrs:{src:i("84f9")}})])]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","completion_time")||e.$check_field("add","completion_time")||e.$check_field("set","completion_time")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"完成时间",prop:"completion_time"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","completion_time")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","completion_time")?s("el-date-picker",{attrs:{disabled:e.disabledObj["completion_time_isDisabled"],id:"completion_time",type:"datetime",placeholder:"选择日期时间"},model:{value:e.form["completion_time"],callback:function(t){e.$set(e.form,"completion_time",t)},expression:"form['completion_time']"}}):e.$check_field("get","completion_time")?s("div",[e._v(e._s(e.form["completion_time"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","relevant_attachments")||e.$check_field("add","relevant_attachments")||e.$check_field("set","relevant_attachments")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"相关附件",prop:"relevant_attachments"}},[e.disabledObj["relevant_attachments_isDisabled"]?s("div",[e.$check_field("get","relevant_attachments")?s("div",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$download(e.$fullUrl(e.form["relevant_attachments"]),e.form["relevant_attachments"])}}},[e._v("下载"),s("i",{staticClass:"el-icon-download el-icon--right"})])],1):e._e()]):s("div",["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","relevant_attachments")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","relevant_attachments")?s("el-upload",{staticClass:"upload-demo",staticStyle:{"max-width":"300px",width:"100%"},attrs:{drag:"",action:"","http-request":e.upload_relevant_attachments,limit:1,accept:""}},[s("i",{staticClass:"el-icon-upload"}),s("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),s("em",[e._v("点击上传")])])]):e.$check_field("get","relevant_attachments")?s("div",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$download(e.$fullUrl(e.form["relevant_attachments"]),e.form["relevant_attachments"])}}},[e._v("下载"),s("i",{staticClass:"el-icon-download el-icon--right"})])],1):e._e()],1)])],1):e._e(),"管理员"===e.user_group||e.$check_field("get","customized_video")||e.$check_field("add","customized_video")||e.$check_field("set","customized_video")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"定制视频",prop:"customized_video"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","customized_video")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","customized_video")?s("el-upload",{staticClass:"upload-demo",staticStyle:{"max-width":"300px",width:"100%"},attrs:{drag:"",action:"","http-request":e.upload_customized_video,limit:1,accept:"video/ogg,video/mp4,video/webm"}},[s("i",{staticClass:"el-icon-upload"}),s("div",{staticClass:"el-upload__text"},[e._v("将视频拖到此处，或"),s("em",[e._v("点击上传")])])]):e.$check_field("get","customized_video")?s("div",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.download(e.form["customized_video"])}}},[e._v("下载"),s("i",{staticClass:"el-icon-download el-icon--right"})])],1):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","customize_audio")||e.$check_field("add","customize_audio")||e.$check_field("set","customize_audio")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"定制音频",prop:"customize_audio"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","customize_audio")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","customize_audio")?s("el-upload",{staticClass:"upload-demo",staticStyle:{"max-width":"300px",width:"100%"},attrs:{drag:"",action:"","http-request":e.upload_customize_audio,limit:1,accept:"audio/ogg,audio/mp3,audio/wav"}},[s("i",{staticClass:"el-icon-upload"}),s("div",{staticClass:"el-upload__text"},[e._v("将音频拖到此处，或"),s("em",[e._v("点击上传")])])]):e.$check_field("get","customize_audio")?s("div",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.download(e.form["customize_audio"])}}},[e._v("下载"),s("i",{staticClass:"el-icon-download el-icon--right"})])],1):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","required_date")||e.$check_field("add","required_date")||e.$check_field("set","required_date")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"要求日期",prop:"required_date"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","required_date")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","required_date")?s("el-date-picker",{attrs:{disabled:e.disabledObj["required_date_isDisabled"],id:"required_date",type:"date",placeholder:"选择日期"},model:{value:e.form["required_date"],callback:function(t){e.$set(e.form,"required_date",t)},expression:"form['required_date']"}}):e.$check_field("get","required_date")?s("div",[e._v(e._s(e.form["required_date"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","custom_category")||e.$check_field("add","custom_category")||e.$check_field("set","custom_category")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"定制类别",prop:"custom_category"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","custom_category")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","custom_category")?s("el-select",{attrs:{id:"custom_category"},model:{value:e.form["custom_category"],callback:function(t){e.$set(e.form,"custom_category",t)},expression:"form['custom_category']"}},e._l(e.list_custom_category,(function(e){return s("el-option",{key:e["custom_category"],attrs:{label:e["custom_category"],value:e["custom_category"]}})})),1):e.$check_field("get","custom_category")?s("div",[e._v(e._s(e.form["custom_category"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","customization_details")||e.$check_field("add","customization_details")||e.$check_field("set","customization_details")?s("el-col",{staticClass:"el_form_editor_warp",attrs:{xs:24,sm:24,lg:24}},[s("el-form-item",{attrs:{label:"定制详情",prop:"customization_details"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","customization_details")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","customization_details")?s("quill-editor",{model:{value:e.form["customization_details"],callback:function(t){e.$set(e.form,"customization_details",e._n(t))},expression:"form['customization_details']"}}):e.$check_field("get","customization_details")?s("div",{domProps:{innerHTML:e._s(e.form["customization_details"])}}):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","picking_category")||e.$check_field("add","picking_category")||e.$check_field("set","picking_category")?s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"取货类别",prop:"picking_category"}},["管理员"===e.user_group||e.form["i_want_to_customize_id"]&&e.$check_field("set","picking_category")||!e.form["i_want_to_customize_id"]&&e.$check_field("add","picking_category")?s("el-select",{attrs:{id:"picking_category"},model:{value:e.form["picking_category"],callback:function(t){e.$set(e.form,"picking_category",t)},expression:"form['picking_category']"}},e._l(e.list_picking_category,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1):e.$check_field("get","picking_category")?s("div",[e._v(e._s(e.form["picking_category"]))]):e._e()],1)],1):e._e(),s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",{attrs:{label:"审核状态",prop:"examine_state"}},["管理员"===e.user_group||e.form["examine_state"]&&e.$check_examine()||!e.form["examine_state"]&&e.$check_examine()?s("el-select",{attrs:{id:"examine_state"},model:{value:e.form["examine_state"],callback:function(t){e.$set(e.form,"examine_state",t)},expression:"form['examine_state']"}},[s("el-option",{key:"未审核",attrs:{label:"未审核",value:"未审核"}}),s("el-option",{key:"已通过",attrs:{label:"已通过",value:"已通过"}}),s("el-option",{key:"未通过",attrs:{label:"未通过",value:"未通过"}})],1):s("div",[e._v(e._s(e.form["examine_state"]))])],1)],1),s("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:24,lg:24}},[s("el-form-item",{attrs:{label:"选座",prop:"seat"}},[s("div",{staticClass:"seat-wrapper"},[s("div",{staticClass:"illustration"},[s("div",{staticClass:"illustration-img-wrapper unselected-seat"}),s("span",{staticClass:"illustration-text"},[e._v("可选")]),s("div",{staticClass:"illustration-img-wrapper selected-seat"}),s("span",{staticClass:"illustration-text"},[e._v("已选")]),s("div",{staticClass:"illustration-img-wrapper bought-seat"}),s("span",{staticClass:"illustration-text"},[e._v("不可选")]),s("div",{staticClass:"btn-buy",on:{click:e.buySeat}},[e._v("选定座位")])]),s("div",{ref:"innerSeatWrapper",staticClass:"inner-seat-wrapper"},e._l(e.seatRow,(function(t){return s("div",e._l(e.seatCol,(function(i){return e.seatArray.length>0?s("div",{staticClass:"seat",style:{width:e.seatSize+"px",height:e.seatSize+"px"}},[-1!==e.seatArray[t-1][i-1]?s("div",{staticClass:"inner-seat",class:2===e.seatArray[t-1][i-1]?"bought-seat":1===e.seatArray[t-1][i-1]?"selected-seat":"unselected-seat",on:{click:function(s){return e.handleChooseSeat(t-1,i-1)}}}):e._e()]):e._e()})),0)})),0)])])],1)],1),s("el-col",{staticClass:"el_form_btn_warp",attrs:{xs:24,sm:12,lg:8}},[s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")]),s("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取消")])],1)],1)],1):e._e()],1)},r=[],a=(i("cb29"),i("d81d"),i("fb6a"),i("b64b"),i("ac1f"),i("1276"),i("159b"),i("96cf"),i("1da1")),o=i("c6e7"),_={mixins:[o["a"]],data:function(){return{field:"i_want_to_customize_id",url_add:"~/api/i_want_to_customize/add?",url_set:"~/api/i_want_to_customize/set?",url_get_obj:"~/api/i_want_to_customize/get_obj?",url_upload:"~/api/i_want_to_customize/upload?",query:{i_want_to_customize_id:0},form:{trade_name:"",seller_account:0,purchase_quantity:0,price:"",total_amount:"",user_number:0,customized_requirements:"",related_pictures:"",completion_time:"",relevant_attachments:"",customized_video:"",customize_audio:"",required_date:"",custom_category:"",customization_details:"",picking_category:"",examine_state:"未审核",i_want_to_customize_id:0,seat:"",user_id:this.$store.state.user.user_id},disabledObj:{trade_name_isDisabled:!1,seller_account_isDisabled:!1,purchase_quantity_isDisabled:!1,price_isDisabled:!1,total_amount_isDisabled:!1,user_number_isDisabled:!1,customized_requirements_isDisabled:!1,related_pictures_isDisabled:!1,completion_time_isDisabled:!1,relevant_attachments_isDisabled:!1,customized_video_isDisabled:!1,customize_audio_isDisabled:!1,required_date_isDisabled:!1,custom_category_isDisabled:!1,customization_details_isDisabled:!1,picking_category_isDisabled:!1},list_user_seller_account:[],list_user_user_number:[],group_user_user_number:"",list_custom_category:[""],list_picking_category:["送货上门","快递"],seatArray:[],seatRow:5,seatCol:8,seatSize:"",seatArr:[],list_:[],seatList:"",limit_times:0,limit_type:0,act_limit_times:0}},methods:{check_limit:function(){var e=this;"管理员"===e.$store.state.user.user_group?e.limit_times=999:e.$get("~/api/customized_goods/get_obj?",{trade_name:e.form.trade_name},(function(t){if(t.result&&t.result.obj){e.limit_times=t.result.obj.limit_times,e.limit_type=t.result.obj.limit_type;var i=e.$store.state.user.user_id,s="~/api/i_want_to_customize/count?trade_name="+e.form.trade_name+"&user_id="+i;if(1===e.limit_type){var r=e.$toTime(parseInt((new Date).getTime()),"yyyy-MM-dd"),a="&create_time_min="+r+" 00:00:00&create_time_max="+r+" 23:59:59";s+=a}e.$get(s,{},(function(t){e.act_limit_times=t.result}))}}))},get_list_user_seller_account:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/user/get_list?user_group=卖家");case 2:i=t.sent,i.result&&i.result.list?e.list_user_seller_account=i.result.list:i.error&&console.error(i.error);case 4:case"end":return t.stop()}}),t)})))()},get_user_seller_account:function(e){var t=this.list_user_seller_account.getObj({user_id:e}),i="";return t&&(i=t.nickname?t.nickname:t.username),i},set_total_amount:function(){this.form.total_amount=parseFloat(this.form.purchase_quantity)*parseFloat(this.form.price)},get_list_user_user_number:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/user/get_list?user_group=商城用户");case 2:i=t.sent,i.result&&i.result.list?e.list_user_user_number=i.result.list:i.error&&console.error(i.error);case 4:case"end":return t.stop()}}),t)})))()},get_group_user_user_number:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form["user_number"]=e.user.user_id,t.next=3,e.$get("~/api/user_group/get_obj?name=商城用户");case 3:i=t.sent,i.result&&i.result.obj?e.group_user_user_number=i.result.obj:i.error&&console.error(i.error);case 5:case"end":return t.stop()}}),t)})))()},get_user_session_user_number:function(e){var t=this,i={user_id:e},s="~/api/"+t.group_user_user_number.source_table+"/get_obj?";this.$get(s,i,(function(i){if(i.result&&i.result.obj){var s=[];for(var r in i.result.obj)s.push(r);var a=[];for(var o in t.form)a.push(o);t.form["user_number"]=e,t.disabledObj["user_number_isDisabled"]=!0;for(var _=0;_<s.length;_++)if("examine_state"!==s[_]&&"examine_reply"!==s[_])for(var l=0;l<a.length;l++)if(s[_]===a[l]){if("user_number"!==s[_]){t.form[a[l]]=i.result.obj[s[_]],t.disabledObj[a[l]+"_isDisabled"]=!0;break}t.disabledObj[a[l]+"_isDisabled"]=!0}}}))},get_user_user_number:function(e){var t=this.list_user_user_number.getObj({user_id:e}),i="";return t&&(i=t.nickname?t.nickname:t.username),i},upload_related_pictures:function(e){this.uploadFile(e.file,"related_pictures")},upload_relevant_attachments:function(e){this.uploadFile(e.file,"relevant_attachments")},upload_customized_video:function(e){this.uploadFile(e.file,"customized_video")},upload_customize_audio:function(e){this.uploadFile(e.file,"customize_audio")},get_list_custom_category:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/classification_information/get_list?");case 2:i=t.sent,i.result&&i.result.list?e.list_custom_category=i.result.list:i.error&&console.error(i.error);case 4:case"end":return t.stop()}}),t)})))()},get_obj_before:function(e){var t=this,i="";return i=$.db.get("form"),$.push(this.form,i),this.form&&i&&Object.keys(this.form).forEach((function(e){Object.keys(i).forEach((function(i){e===i&&(t.disabledObj[e+"_isDisabled"]=!0)}))})),-1===this.form["completion_time"].indexOf("-")&&(this.form["completion_time"]=this.$toTime(parseInt(this.form["completion_time"]),"yyyy-MM-dd hh:mm:ss")),-1===this.form["required_date"].indexOf("-")&&(this.form["required_date"]=this.$toTime(parseInt(this.form["required_date"]),"yyyy-MM-dd")),$.db.del("form"),this.get_list(),e},get_obj_after:function(e,t){"0000-00-00 00:00:00"==this.form["completion_time"]&&(this.form["completion_time"]=null),parseInt(this.form["completion_time"])>9999&&(this.form["completion_time"]=this.$toTime(parseInt(this.form["completion_time"]),"yyyy-MM-dd hh:mm:ss")),"0000-00-00"==this.form["required_date"]&&(this.form["required_date"]=null),parseInt(this.form["required_date"])>9999&&(this.form["required_date"]=this.$toTime(parseInt(this.form["required_date"]),"yyyy-MM-dd")),this.get_list()},submit_check:function(e){var t=null;return this.act_limit_times>=this.limit_times&&(t="已超过提交次数"),t},is_view:function(){var e="管理员"==this.user_group;return e||(e=this.$check_action("/i_want_to_customize/table","add"),console.log(e?"你有表格添加权限视作有添加权限":"你没有表格添加权限")),e||(e=this.$check_action("/i_want_to_customize/table","set"),console.log(e?"你有表格添加权限视作有修改权限":"你没有表格修改权限")),e||(e=this.$check_action("/i_want_to_customize/view","add"),console.log(e?"你有视图添加权限视作有添加权限":"你没有视图添加权限")),e||(e=this.$check_action("/i_want_to_customize/view","set"),console.log(e?"你有视图修改权限视作有修改权限":"你没有视图修改权限")),e||(e=this.$check_action("/i_want_to_customize/view","get"),console.log(e?"你有视图查询权限视作有查询权限":"你没有视图查询权限")),console.log(e?"具有当前页面的查看权，请注意这不代表你有字段的查看权":"无权查看当前页，请注意即便有字段查询权限没有页面查询权限也不行"),e},uploadimg:function(e){this.uploadFile(e.file,"avatar")},buySeat:function(){for(var e=this.seatArray.slice(),t=0;t<this.seatRow;t++)for(var i=0;i<this.seatCol;i++)1===e[t][i]&&(e[t][i]=2);this.seatArray=e;for(var s="",r=0;r<e.length;r++)for(var a=e[r],o=0;o<a.length;o++)2===e[r][o]&&(s=""==s?""+(8*r+o):s+","+(8*r+o));var _=this.form.seat,l="";if(""!=s&&null!=s){var c=s.split(","),u=this.seatList;if(0!=u.length)for(var n=u.split(","),m=0;m<c.length;m++)-1==n.indexOf(c[m])&&-1==_.indexOf(c[m])&&(""==_||null==_?(_=c[m]+"",l=_):-1==_.indexOf(c[m])&&(_=_+","+c[m],l=""==l||null==l?c[m]:l+","+c[m]));else _=s}""==this.form.seat?this.form.seat=_:""!=l&&(this.form.seat=this.form.seat+","+l),this.seatList=s},handleChooseSeat:function(e,t){var i=this.seatArray[e][t],s=this.seatArray;2!==i&&(1===i?s[e][t]=0:0===i&&(s[e][t]=1),this.seatArray=s.slice())},get_list:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i,s,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/i_want_to_customize/get_list");case 2:if(i=t.sent,i.result&&i.result.list?e.list_=i.result.list:i.error&&console.error(i.error),console.log(i),s=i.result.list,null!=s&&0!=s.length){for(r="",a=0;a<s.length;a++)o=s[a].seat,null!=o&&""!=o&&(r=""==r?o+"":r+","+o);e.seatList=r}e.initSeatArray(5,8);case 8:case"end":return t.stop()}}),t)})))()},initSeatArray:function(){var e=this,t=this.seatList,i=t.split(",");""!=t&&null!=t||(i=[]),this.seatArr=i;var s=Array(this.seatRow).fill(0).map((function(){return Array(e.seatCol).fill(0)}));this.seatArray=s;for(var r=0;r<i.length;r++){var a=Math.floor(i[r]/8),o=i[r]%8;s[a][o]=2}this.seatSize=this.$refs.innerSeatWrapper?parseInt(parseInt(window.getComputedStyle(this.$refs.innerSeatWrapper).width,10)/this.seatCol,10):0}},created:function(){this.get_list_user_seller_account(),this.get_list_user_user_number(),this.get_group_user_user_number(),this.get_list_custom_category()},watch:{"form.trade_name":{handler:function(){this.check_limit()}}}},l=_,c=(i("84fb"),i("2877")),u=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=u.exports},2310:function(e,t,i){},"84fb":function(e,t,i){"use strict";i("2310")}}]);