(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-373b39b0"],{"0e41":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-main",{staticClass:"bg edit_wrap comtable_e"},[e.is_view()?i("el-form",{ref:"form",attrs:{model:e.form,"status-icon":"","label-width":"120px"}},[i("el-row",{staticClass:"row_ce"},["管理员"===e.user_group||e.$check_field("get","title")||e.$check_field("add","title")||e.$check_field("set","title")?i("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[i("el-form-item",{attrs:{label:"标题",prop:"title"}},["管理员"===e.user_group||e.form["website_announcement_id"]&&e.$check_field("set","title")||!e.form["website_announcement_id"]&&e.$check_field("add","title")?i("el-input",{attrs:{id:"title",placeholder:"请输入标题",disabled:e.disabledObj["title_isDisabled"]},model:{value:e.form["title"],callback:function(t){e.$set(e.form,"title",t)},expression:"form['title']"}}):e.$check_field("get","title")?i("div",[e._v(e._s(e.form["title"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","publisher")||e.$check_field("add","publisher")||e.$check_field("set","publisher")?i("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[i("el-form-item",{attrs:{label:"发布人",prop:"publisher"}},["管理员"===e.user_group||e.form["website_announcement_id"]&&e.$check_field("set","publisher")||!e.form["website_announcement_id"]&&e.$check_field("add","publisher")?i("el-input",{attrs:{id:"publisher",placeholder:"请输入发布人",disabled:e.disabledObj["publisher_isDisabled"]},model:{value:e.form["publisher"],callback:function(t){e.$set(e.form,"publisher",t)},expression:"form['publisher']"}}):e.$check_field("get","publisher")?i("div",[e._v(e._s(e.form["publisher"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","release_time")||e.$check_field("add","release_time")||e.$check_field("set","release_time")?i("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[i("el-form-item",{attrs:{label:"发布时间",prop:"release_time"}},["管理员"===e.user_group||e.form["website_announcement_id"]&&e.$check_field("set","release_time")||!e.form["website_announcement_id"]&&e.$check_field("add","release_time")?i("el-date-picker",{attrs:{disabled:e.disabledObj["release_time_isDisabled"],id:"release_time",type:"datetime",placeholder:"选择日期时间"},model:{value:e.form["release_time"],callback:function(t){e.$set(e.form,"release_time",t)},expression:"form['release_time']"}}):e.$check_field("get","release_time")?i("div",[e._v(e._s(e.form["release_time"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","relevant_accessories")||e.$check_field("add","relevant_accessories")||e.$check_field("set","relevant_accessories")?i("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[i("el-form-item",{attrs:{label:"相关附件",prop:"relevant_accessories"}},[e.disabledObj["relevant_accessories_isDisabled"]?i("div",[e.$check_field("get","relevant_accessories")?i("div",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$download(e.$fullUrl(e.form["relevant_accessories"]),e.form["relevant_accessories"])}}},[e._v("下载"),i("i",{staticClass:"el-icon-download el-icon--right"})])],1):e._e()]):i("div",["管理员"===e.user_group||e.form["website_announcement_id"]&&e.$check_field("set","relevant_accessories")||!e.form["website_announcement_id"]&&e.$check_field("add","relevant_accessories")?i("el-upload",{staticClass:"upload-demo",staticStyle:{"max-width":"300px",width:"100%"},attrs:{drag:"",action:"","http-request":e.upload_relevant_accessories,limit:1,accept:""}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])])]):e.$check_field("get","relevant_accessories")?i("div",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$download(e.$fullUrl(e.form["relevant_accessories"]),e.form["relevant_accessories"])}}},[e._v("下载"),i("i",{staticClass:"el-icon-download el-icon--right"})])],1):e._e()],1)])],1):e._e(),"管理员"===e.user_group||e.$check_field("get","details")||e.$check_field("add","details")||e.$check_field("set","details")?i("el-col",{staticClass:"el_form_editor_warp",attrs:{xs:24,sm:24,lg:24}},[i("el-form-item",{attrs:{label:"详情",prop:"details"}},["管理员"===e.user_group||e.form["website_announcement_id"]&&e.$check_field("set","details")||!e.form["website_announcement_id"]&&e.$check_field("add","details")?i("quill-editor",{model:{value:e.form["details"],callback:function(t){e.$set(e.form,"details",e._n(t))},expression:"form['details']"}}):e.$check_field("get","details")?i("div",{domProps:{innerHTML:e._s(e.form["details"])}}):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","lower_multi_test")||e.$check_field("add","lower_multi_test")||e.$check_field("set","lower_multi_test")?i("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[i("el-form-item",{attrs:{label:"下多测试",prop:"lower_multi_test"}},["管理员"===e.user_group||e.form["website_announcement_id"]&&e.$check_field("set","lower_multi_test")||!e.form["website_announcement_id"]&&e.$check_field("add","lower_multi_test")?i("el-select",{attrs:{id:"lower_multi_test",multiple:""},on:{change:e.select_lower_multi_test_multiple},model:{value:e.lower_multi_test_multiple_value,callback:function(t){e.lower_multi_test_multiple_value=t},expression:"lower_multi_test_multiple_value"}},e._l(e.list_lower_multi_test,(function(e){return i("el-option",{key:e["commodity_category"],attrs:{label:e["commodity_category"],value:e["commodity_category"]}})})),1):e.$check_field("get","lower_multi_test")?i("div",[e._v(e._s(e.form["lower_multi_test"]))]):e._e()],1)],1):e._e()],1),i("el-col",{staticClass:"el_form_btn_warp",attrs:{xs:24,sm:12,lg:8}},[i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")]),i("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取消")])],1)],1)],1):e._e()],1)},s=[],r=(i("b64b"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("159b"),i("96cf"),i("1da1")),a=i("c6e7"),o={mixins:[a["a"]],data:function(){return{field:"website_announcement_id",url_add:"~/api/website_announcement/add?",url_set:"~/api/website_announcement/set?",url_get_obj:"~/api/website_announcement/get_obj?",url_upload:"~/api/website_announcement/upload?",query:{website_announcement_id:0},form:{title:"",publisher:"",release_time:"",relevant_accessories:"",details:"",lower_multi_test:"",website_announcement_id:0},disabledObj:{title_isDisabled:!1,publisher_isDisabled:!1,release_time_isDisabled:!1,relevant_accessories_isDisabled:!1,details_isDisabled:!1,lower_multi_test_isDisabled:!1},lower_multi_test_multiple_value:[],list_lower_multi_test:[""]}},methods:{upload_relevant_accessories:function(e){this.uploadFile(e.file,"relevant_accessories")},get_list_lower_multi_test:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/classification_information/get_list?");case 2:i=t.sent,i.result&&i.result.list?e.list_lower_multi_test=i.result.list:i.error&&console.error(i.error);case 4:case"end":return t.stop()}}),t)})))()},select_lower_multi_test_multiple:function(e){this.form.lower_multi_test="",e&&e.length>0&&(this.form.lower_multi_test=e.toString())},get_obj_before:function(e){var t=this,i="";return this.form&&i&&Object.keys(this.form).forEach((function(e){Object.keys(i).forEach((function(i){e===i&&(t.disabledObj[e+"_isDisabled"]=!0)}))})),-1===this.form["release_time"].indexOf("-")&&(this.form["release_time"]=this.$toTime(parseInt(this.form["release_time"]),"yyyy-MM-dd hh:mm:ss")),$.db.del("form"),e},get_obj_after:function(e,t){"0000-00-00 00:00:00"==this.form["release_time"]&&(this.form["release_time"]=null),parseInt(this.form["release_time"])>9999&&(this.form["release_time"]=this.$toTime(parseInt(this.form["release_time"]),"yyyy-MM-dd hh:mm:ss")),this.form.lower_multi_test&&(this.lower_multi_test_multiple_value=this.form.lower_multi_test.split(","))},submit_check:function(e){var t=null;return t},is_view:function(){var e="管理员"==this.user_group;return e||(e=this.$check_action("/website_announcement/table","add"),console.log(e?"你有表格添加权限视作有添加权限":"你没有表格添加权限")),e||(e=this.$check_action("/website_announcement/table","set"),console.log(e?"你有表格添加权限视作有修改权限":"你没有表格修改权限")),e||(e=this.$check_action("/website_announcement/view","add"),console.log(e?"你有视图添加权限视作有添加权限":"你没有视图添加权限")),e||(e=this.$check_action("/website_announcement/view","set"),console.log(e?"你有视图修改权限视作有修改权限":"你没有视图修改权限")),e||(e=this.$check_action("/website_announcement/view","get"),console.log(e?"你有视图查询权限视作有查询权限":"你没有视图查询权限")),console.log(e?"具有当前页面的查看权，请注意这不代表你有字段的查看权":"无权查看当前页，请注意即便有字段查询权限没有页面查询权限也不行"),e},uploadimg:function(e){this.uploadFile(e.file,"avatar")}},created:function(){this.get_list_lower_multi_test()}},_=o,c=(i("cbb9"),i("2877")),n=Object(c["a"])(_,l,s,!1,null,null,null);t["default"]=n.exports},"5ffd":function(e,t,i){},cbb9:function(e,t,i){"use strict";i("5ffd")}}]);