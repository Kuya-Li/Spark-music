(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e12c22b8"],{"30f3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-main",{staticClass:"bg edit_wrap gen"},[n("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"","label-width":"70px"}},[n("el-row",{staticClass:"row_e"},[n("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:24,lg:24}},[n("el-form-item",{attrs:{label:"单选题数目",prop:"danxuanti_count"}},[n("el-input-number",{model:{value:t.danxuanti_count,callback:function(e){t.danxuanti_count=e},expression:"danxuanti_count"}})],1)],1),n("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:24,lg:24}},[n("el-form-item",{attrs:{label:"多选题数目",prop:"duoxuanti_count"}},[n("el-input-number",{model:{value:t.duoxuanti_count,callback:function(e){t.duoxuanti_count=e},expression:"duoxuanti_count"}})],1)],1),n("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:24,lg:24}},[n("el-form-item",{attrs:{label:"判断题数目",prop:"panduanti_count"}},[n("el-input-number",{model:{value:t.panduanti_count,callback:function(e){t.panduanti_count=e},expression:"panduanti_count"}})],1)],1),n("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:24,lg:24}},[n("el-form-item",{attrs:{label:"填空题数目",prop:"tiankongti_count"}},[n("el-input-number",{model:{value:t.tiankongti_count,callback:function(e){t.tiankongti_count=e},expression:"tiankongti_count"}})],1)],1),n("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:24,lg:24}},[n("el-form-item",{attrs:{label:"主观题数目",prop:"zhuguanti_count"}},[n("el-input-number",{model:{value:t.zhuguanti_count,callback:function(e){t.zhuguanti_count=e},expression:"zhuguanti_count"}})],1)],1)],1),n("el-col",{staticClass:"el_form_btn_warp",attrs:{xs:24,sm:24,lg:24}},[n("el-form-item",[n("el-col",{staticClass:"el_form_btn el_form_btn_1",attrs:{xs:24,sm:24,lg:12}},[n("el-button",{staticStyle:{width:"100%",float:"left"},attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("提交 ")])],1),n("el-col",{staticClass:"el_form_btn el_form_btn_2",attrs:{xs:24,sm:24,lg:12}},[n("el-button",{staticStyle:{width:"100%",float:"right"},on:{click:function(e){return t.cancel()}}},[t._v("取消")])],1)],1)],1)],1)],1)},u=[],i=(n("a434"),n("3ca3"),n("ddb0"),n("96cf"),n("1da1")),r=n("c6e7"),o={mixins:[r["a"]],data:function(){return{field:"exam_id",url_add:"~/api/subject_exam_question/add?",url_del:"~/api/subject_exam_question/del?",url_exam_question_add:"~/api/subject_exam_question/add?",query:{exam_id:0},form:{exam_id:0,subject_name:this.$route.query.subject_name},list_subject:[],exam_question_list:[],danxuanti_count:0,duoxuanti_count:0,panduanti_count:0,tiankongti_count:0,zhuguanti_count:0}},methods:{get_subject_list:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$get("~/api/subject/get_list?");case 2:n=e.sent,n.result?t.list_subject=n.result.list:n.error&&console.error(n.error);case 4:case"end":return e.stop()}}),e)})))()},submit_exam_question:function(){},gen_question_list:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,u,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t,a=[{type:"单选题"},{type:"多选题"},{type:"判断题"},{type:"填空题"},{type:"主观题"}],u=[t.danxuanti_count,t.duoxuanti_count,t.panduanti_count,t.tiankongti_count,t.zhuguanti_count],t.$get(n.url_del,{exam_id:t.query.exam_id}).then((function(t){})),i=0,r=regeneratorRuntime.mark((function e(n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a[n],o=u[n],t.exam_question_list.splice(0,t.exam_question_list.length),r.subject_name=t.form.subject_name,e.next=6,t.$get("~/api/exam_question_database/get_list?",r).then((function(e){if(e.result){var n=e.result.list.sort((function(){return Math.random()-.5}));o>n.length&&(o=n.length);for(var a=0;a<o;a++){i++;var u=n[a];t.$delete(u,"update_time"),t.$delete(u,"create_time"),t.$delete(u,"exam_question_id"),u.exam_id=t.query.exam_id,u.subject_name=t.form.subject_name,u.question_order=i,t.$post(t.url_exam_question_add,u,(function(t,e){console.log("提交结果：",t)}))}}else e.error&&console.error(e.error)}));case 6:case"end":return e.stop()}}),e)})),o=0;case 7:if(!(o<a.length)){e.next=12;break}return e.delegateYield(r(o),"t0",9);case 9:o++,e.next=7;break;case 12:case"end":return e.stop()}}),e)})))()},submit_main:function(){this.gen_question_list(),this.events("submit_after",{},null)}},created:function(){this.get_subject_list()}},s=o,l=(n("ced1"),n("2877")),c=Object(l["a"])(s,a,u,!1,null,null,null);e["default"]=c.exports},a5ee:function(t,e,n){},ced1:function(t,e,n){"use strict";n("a5ee")}}]);