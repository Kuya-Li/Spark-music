(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8a4e930"],{"2f54":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-main",{staticClass:"bg table_wrap comtabel_t"},[i("el-form",{staticClass:"form p_4",attrs:{"label-position":"right",model:t.query,"label-width":"120"}},[i("el-row",{staticClass:"rows row1"},[i("el-col",{staticClass:"el_form_search_wrap",attrs:{xs:24,sm:24,lg:8}},[i("el-form-item",{attrs:{label:"定制类别"}},[i("el-select",{model:{value:t.query.custom_category,callback:function(e){t.$set(t.query,"custom_category",e)},expression:"query.custom_category"}},t._l(t.list_custom_category,(function(t){return i("el-option",{key:t.custom_category,attrs:{label:t.custom_category,value:t.custom_category}})})),1)],1)],1),i("el-col",{staticClass:"el_form_search_wrap",attrs:{xs:24,sm:24,lg:8}},[i("el-form-item",{attrs:{label:"审核状态"}},[i("el-select",{model:{value:t.query.examine_state,callback:function(e){t.$set(t.query,"examine_state",e)},expression:"query.examine_state"}},[i("el-option",{attrs:{value:""}},[t._v("全部")]),i("el-option",{attrs:{value:"未审核"}},[t._v("未审核")]),i("el-option",{attrs:{value:"已通过"}},[t._v("已通过")]),i("el-option",{attrs:{value:"未通过"}},[t._v("未通过")])],1)],1)],1),i("el-col",{staticClass:"el_form_search_wrap",attrs:{xs:24,sm:24,lg:8}},[i("el-form-item",{attrs:{label:"支付状态"}},[i("el-select",{model:{value:t.query.pay_state,callback:function(e){t.$set(t.query,"pay_state",e)},expression:"query.pay_state"}},[i("el-option",{attrs:{value:""}},[t._v("全部")]),i("el-option",{attrs:{value:"未支付"}},[t._v("未支付")]),i("el-option",{attrs:{value:"已支付"}},[t._v("已支付")])],1)],1)],1)],1),i("el-row",{staticClass:"rows row2"},[i("el-col",{staticClass:"search_btn_wrap search_btns",attrs:{xs:24,sm:24,lg:24}},[i("el-col",{staticClass:"search_btn_1 search_btn_wrap_1 btns",attrs:{xs:24,sm:10,lg:8}},[i("el-button",{staticClass:"search_btn_find",attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("查询")]),i("el-button",{staticClass:"search_btn_reset",staticStyle:{"margin-right":"74px"},on:{click:function(e){return t.reset()}}},[t._v("重置")]),"管理员"==t.user_group||t.$check_action("/i_want_to_customize/table","del")||t.$check_action("/i_want_to_customize/view","del")?i("el-button",{staticClass:"search_btn_del",attrs:{type:"danger"},on:{click:function(e){return t.delInfo()}}},[t._v("删除")]):t._e()],1)],1)],1)],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,id:"dataTable"},on:{"selection-change":t.selectionChange,"sort-change":t.$sortChange}},[i("el-table-column",{attrs:{fixed:"",type:"selection","tooltip-effect":"dark",width:"55"}}),"管理员"==t.user_group||t.$check_field("get","trade_name")?i("el-table-column",{attrs:{prop:"trade_name",label:"商品名称","min-width":"200"},on:{"sort-change":t.$sortChange}}):t._e(),"管理员"==t.user_group||t.$check_field("get","seller_account")?i("el-table-column",{attrs:{prop:"seller_account",label:"卖家账号","min-width":"200"},on:{"sort-change":t.$sortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.get_user_seller_account(e.row["seller_account"]))+" ")]}}],null,!1,3951736531)}):t._e(),"管理员"==t.user_group||t.$check_field("get","purchase_quantity")?i("el-table-column",{attrs:{prop:"purchase_quantity",label:"购买数量","min-width":"200"},on:{"sort-change":t.$sortChange}}):t._e(),"管理员"==t.user_group||t.$check_field("get","price")?i("el-table-column",{attrs:{prop:"price",label:"价格","min-width":"200"},on:{"sort-change":t.$sortChange}}):t._e(),"管理员"==t.user_group||t.$check_field("get","total_amount")?i("el-table-column",{attrs:{prop:"total_amount",label:"总金额","min-width":"200"},on:{"sort-change":t.$sortChange}}):t._e(),"管理员"==t.user_group||t.$check_field("get","user_number")?i("el-table-column",{attrs:{prop:"user_number",label:"用户编号","min-width":"200"},on:{"sort-change":t.$sortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.get_user_user_number(e.row["user_number"]))+" ")]}}],null,!1,763791667)}):t._e(),"管理员"==t.user_group||t.$check_field("get","customized_requirements")?i("el-table-column",{attrs:{prop:"customized_requirements",label:"定制要求","min-width":"200"},on:{"sort-change":t.$sortChange}}):t._e(),"管理员"==t.user_group||t.$check_field("get","related_pictures")?i("el-table-column",{attrs:{prop:"related_pictures",label:"相关图片","min-width":"200"},on:{"sort-change":t.$sortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.$fullUrl(e.row["related_pictures"]),"preview-src-list":[t.$fullUrl(e.row["related_pictures"])]}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticStyle:{width:"90px",height:"90px"},attrs:{src:a("84f9")}})])])]}}],null,!1,3447401214)}):t._e(),"管理员"==t.user_group||t.$check_field("get","completion_time")?i("el-table-column",{attrs:{prop:"completion_time",label:"完成时间","min-width":"200"},on:{"sort-change":t.$sortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$toTime(e.row["completion_time"],"yyyy-MM-dd hh:mm:ss"))+" ")]}}],null,!1,843982780)}):t._e(),"管理员"==t.user_group||t.$check_field("get","relevant_attachments")?i("el-table-column",{attrs:{prop:"relevant_attachments",label:"相关附件","min-width":"200"},on:{"sort-change":t.$sortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticStyle:{color:"rgb(64, 158, 255)"},attrs:{href:t.$fullUrl(e.row["relevant_attachments"]),target:"_blank"}},[t._v("点击下载")])]}}],null,!1,4065447844)}):t._e(),"管理员"==t.user_group||t.$check_field("get","customized_video")?i("el-table-column",{attrs:{prop:"customized_video",label:"定制视频","min-width":"200"},on:{"sort-change":t.$sortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.customized_videoVideoPlay(t.$fullUrl(e.row["customized_video"]))}}},[t._v("点此播放")])]}}],null,!1,3834612792)}):t._e(),"管理员"==t.user_group||t.$check_field("get","customize_audio")?i("el-table-column",{attrs:{prop:"customize_audio",label:"定制音频","min-width":"200"},on:{"sort-change":t.$sortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.customize_audioAudioPlay(t.$fullUrl(e.row["customize_audio"]))}}},[t._v("点此播放")])]}}],null,!1,2417316895)}):t._e(),"管理员"==t.user_group||t.$check_field("get","required_date")?i("el-table-column",{attrs:{prop:"required_date",label:"要求日期","min-width":"200"},on:{"sort-change":t.$sortChange},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$toTime(e.row["required_date"],"yyyy-MM-dd"))+" ")]}}],null,!1,3355622736)}):t._e(),"管理员"==t.user_group||t.$check_field("get","custom_category")?i("el-table-column",{attrs:{prop:"custom_category",label:"定制类别","min-width":"200"},on:{"sort-change":t.$sortChange}}):t._e(),"管理员"==t.user_group||t.$check_field("get","picking_category")?i("el-table-column",{attrs:{prop:"picking_category",label:"取货类别","min-width":"200"},on:{"sort-change":t.$sortChange}}):t._e(),i("el-table-column",{attrs:{label:"审核状态",prop:"examine_state"}}),i("el-table-column",{attrs:{label:"支付状态",prop:"pay_state"}}),i("el-table-column",{attrs:{label:"支付类型",prop:"pay_type"}}),i("el-table-column",{attrs:{sortable:"",prop:"create_time",label:"创建时间","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$toTime(e.row["create_time"],"yyyy-MM-dd hh:mm:ss"))+" ")]}}])}),i("el-table-column",{attrs:{sortable:"",prop:"update_time",label:"更新时间","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$toTime(e.row["update_time"],"yyyy-MM-dd hh:mm:ss"))+" ")]}}])}),"管理员"==t.user_group||t.$check_field("get","seat")?i("el-table-column",{attrs:{prop:"seat",label:"座位","min-width":"200"}}):t._e(),"管理员"==t.user_group||t.$check_action("/i_want_to_customize/table","set")||t.$check_action("/i_want_to_customize/view","set")||t.$check_action("/i_want_to_customize/view","get")||t.$check_action("//table","add")||t.$check_action("//view","add")?i("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"view_a"},["管理员"==t.user_group||t.$check_action("/i_want_to_customize/table","set")||t.$check_action("/i_want_to_customize/view","set")||t.$check_action("/i_want_to_customize/view","get")?i("router-link",{staticClass:"e-button el-button--small is-plain el-button--success",staticStyle:{margin:"5px !important"},attrs:{to:"./view?"+t.field+"="+e.row[t.field],size:"small"}},[i("span",[t._v("详情")])]):t._e(),"未支付"!==e.row.pay_state||"管理员"!=t.user_group&&!t.$check_pay("/i_want_to_customize/table")?t._e():i("el-button",{staticClass:"e-button el-button--small is-plain el-button--default",staticStyle:{margin:"5px !important"},attrs:{size:"small"},on:{click:function(a){return t.openPayModal(e.row)}}},[i("span",[t._v("支付")])])],1)]}}],null,!1,1098855567)}):t._e()],1),i("div",{staticClass:"mt text_center"},[i("el-pagination",{attrs:{"current-page":t.query.page,"page-sizes":[7,10,30,100],"page-size":t.query.size,layout:"total, sizes, prev, pager, next, jumper",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),i("el-dialog",{attrs:{title:"视频详情",visible:t.customized_videoPlayerModalVisible,width:"30%"},on:{"update:visible":function(e){t.customized_videoPlayerModalVisible=e}}},[i("video",{attrs:{id:"customized_videoPlayer",src:t.customized_videoVideoUrl,autoplay:"autoplay",width:"100%",controls:""}},[t._v(" 您的浏览器不支持Video标签。 ")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.customized_videoCancelModalVisible}},[t._v("取 消")])],1)]),i("el-dialog",{attrs:{title:"音频详情",visible:t.customize_audioAudioPlayerModalVisible,width:"30%"},on:{"update:visible":function(e){t.customize_audioAudioPlayerModalVisible=e}}},[i("audio",{attrs:{id:"customize_audioAudioPlayer",src:t.customize_audioAudioUrl,autoplay:"autoplay",width:"100%",controls:""}},[t._v(" 您的浏览器不支持Audio标签。 ")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.customize_audioCancelAudioModalVisible}},[t._v("取 消")])],1)]),i("el-dialog",{attrs:{title:"支付",visible:t.payModalVisible,width:"500px"},on:{"update:visible":function(e){t.payModalVisible=e}}},[i("el-tabs",{attrs:{stretch:!0},model:{value:t.pay_obj.payActiveName,callback:function(e){t.$set(t.pay_obj,"payActiveName",e)},expression:"pay_obj.payActiveName"}},[i("el-tab-pane",{attrs:{label:"微信",name:"微信"}},[i("div",{staticStyle:{width:"80%",margin:"0 auto"}},[i("div",{staticStyle:{width:"60%",margin:"30px auto"}},[i("el-image",{staticStyle:{width:"100%"},attrs:{src:t.$fullUrl("/static/img/wx.png"),"preview-src-list":[t.$fullUrl("/static/img/wx.png")]}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticStyle:{width:"90px",height:"90px"},attrs:{src:a("84f9")}})])])],1),i("div",{staticStyle:{width:"80%",margin:"0 auto"}},[i("div",{staticStyle:{width:"100%","background-color":"#409EFF",color:"white","font-size":"14px","text-align":"center","line-height":"40px",cursor:"pointer"},on:{click:function(e){return t.submitPay()}}},[t._v("确认支付")])])])]),i("el-tab-pane",{attrs:{label:"支付宝",name:"支付宝"}},[i("div",{staticStyle:{width:"80%",margin:"0 auto"}},[i("div",{staticStyle:{width:"60%",margin:"30px auto"}},[i("el-image",{staticStyle:{width:"100%"},attrs:{src:t.$fullUrl("/static/img/aplipay.png"),"preview-src-list":[t.$fullUrl("/static/img/aplipay.png")]}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticStyle:{width:"90px",height:"90px"},attrs:{src:a("84f9")}})])])],1),i("div",{staticStyle:{width:"80%",margin:"0 auto"}},[i("div",{staticStyle:{width:"100%","background-color":"#409EFF",color:"white","font-size":"14px","text-align":"center","line-height":"40px",cursor:"pointer"},on:{click:function(e){return t.submitPay()}}},[t._v("确认支付")])])])]),i("el-tab-pane",{attrs:{label:"网银",name:"网银"}},[i("div",{staticStyle:{width:"80%",margin:"0 auto","margin-top":"30px"}},[i("div",{staticStyle:{width:"80%",margin:"0 auto"}},[i("div",{staticStyle:{"line-height":"40px"}},[t._v("请输入网银账号：")])]),i("div",{staticStyle:{width:"80%",margin:"0 auto"}},[i("el-input",{attrs:{placeholder:"请输入网银账号"},model:{value:t.pay_obj.account,callback:function(e){t.$set(t.pay_obj,"account",e)},expression:"pay_obj.account"}})],1)]),i("div",{staticStyle:{width:"80%",margin:"0 auto","margin-top":"20px"}},[i("div",{staticStyle:{width:"80%",margin:"0 auto"}},[i("div",{staticStyle:{"line-height":"40px"}},[t._v("请输入支付密码，6位数字：")])]),i("div",{staticStyle:{width:"80%",margin:"0 auto"}},[i("el-input",{attrs:{placeholder:"请输入密码","show-password":"",maxlength:"6"},model:{value:t.pay_obj.password,callback:function(e){t.$set(t.pay_obj,"password",e)},expression:"pay_obj.password"}})],1)]),i("div",{staticStyle:{width:"80%",margin:"0 auto","margin-top":"40px"}},[i("div",{staticStyle:{width:"100%","background-color":"#409EFF",color:"white","font-size":"14px","text-align":"center","line-height":"40px",cursor:"pointer"},on:{click:function(e){return t.submitPay()}}},[t._v("确认支付")])])])],1)],1),t.showModal?i("div",{staticClass:"modal_wrap"},[i("div",{staticClass:"modal_box"},[i("p",{staticClass:"modal_box_title"},[t._v("重要提醒")]),i("p",{staticClass:"modal_box_text"},[t._v("当前有数据达到预警值！")]),i("div",{staticClass:"btn_box"},[i("span",{on:{click:t.closeModal}},[t._v("取消")]),i("span",{on:{click:t.closeModal}},[t._v("确定")])])])]):t._e()],1)},o=[],s=(a("a434"),a("96cf"),a("1da1")),l=a("c6e7"),r={mixins:[l["a"]],data:function(){return{showModal:!1,url_get_list:"~/api/i_want_to_customize/get_list?like=0",url_del:"~/api/i_want_to_customize/del?",field:"i_want_to_customize_id",query:{size:7,page:1,custom_category:"",examine_state:"",pay_state:"",login_time:"",create_time:"",orderby:"create_time desc"},list:[],payModalVisible:!1,pay_obj:{payActiveName:"微信",account:"",password:"",id:""},customized_videoPlayerModalVisible:!1,customized_videoVideoUrl:"",customize_audioAudioPlayerModalVisible:!1,customize_audioAudioUrl:"",list_user_seller_account:[],list_user_user_number:[],list_custom_category:[""]}},methods:{closeModal:function(){this.showModal=!1},get_list_before:function(t){var e=this.user.user_group;if("管理员"!=e)switch(e){case"卖家":t["seller_account"]=this.user.user_id;break;case"商城用户":t["user_number"]=this.user.user_id;break}return t},get_list_custom_category:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$get("~/api/classification_information/get_list?");case 2:a=e.sent,a.result?t.list_custom_category=a.result.list:a.error&&console.log(a.error);case 4:case"end":return e.stop()}}),e)})))()},get_list_user_seller_account:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$get("~/api/user/get_list?user_group=卖家");case 2:a=e.sent,a.result&&a.result.list?t.list_user_seller_account=a.result.list:a.error&&console.error(a.error);case 4:case"end":return e.stop()}}),e)})))()},get_user_seller_account:function(t){var e=this.list_user_seller_account.getObj({user_id:t}),a="";return e&&(a=e.nickname+"-"+e.username),a},get_list_user_user_number:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$get("~/api/user/get_list?user_group=商城用户");case 2:a=e.sent,a.result&&a.result.list?t.list_user_user_number=a.result.list:a.error&&console.error(a.error);case 4:case"end":return e.stop()}}),e)})))()},get_user_user_number:function(t){var e=this.list_user_user_number.getObj({user_id:t}),a="";return e&&(a=e.nickname+"-"+e.username),a},customized_videoVideoPlay:function(t){this.customized_videoVideoUrl=t,this.customized_videoPlayerModalVisible=!0},customized_videoCancelModalVisible:function(){this.customized_videoVideoUrl="",this.customized_videoPlayerModalVisible=!1},customize_audioAudioPlay:function(t){this.customize_audioAudioUrl=t,this.customize_audioAudioPlayerModalVisible=!0},customize_audioCancelAudioModalVisible:function(){this.customize_audioAudioUrl="",this.customize_audioAudioPlayerModalVisible=!1},openPayModal:function(t){this.pay_obj.id=t.i_want_to_customize_id,this.payModalVisible=!0},submitPay:function(){var t=this,e=this.$toUrl(this.query,"~/api/i_want_to_customize/set?i_want_to_customize_id="+this.pay_obj.id),a={pay_state:"已支付",pay_type:this.pay_obj.payActiveName};this.$post(e,a,(function(e,a){console.log("提交结果：",e),e.result?(t.$toast("支付成功！","success"),t.payModalVisible=!1,t.get_list()):e.error&&t.$toast(e.error.message,"danger")}))},deleteRow:function(t,e){e.splice(t,1)}},created:function(){this.get_list_user_seller_account(),this.get_list_user_user_number(),this.get_list_custom_category()}},n=r,c=(a("fd0f"),a("2877")),u=Object(c["a"])(n,i,o,!1,null,null,null);e["default"]=u.exports},5737:function(t,e,a){},fd0f:function(t,e,a){"use strict";a("5737")}}]);