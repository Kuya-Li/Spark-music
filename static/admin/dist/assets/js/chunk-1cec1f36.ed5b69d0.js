(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cec1f36"],{"6ad2":function(e,i,s){"use strict";s.r(i);var t=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("el-main",{staticClass:"bg edit_wrap comtable_e"},[e.is_view()?t("el-form",{ref:"form",attrs:{model:e.form,"status-icon":"","label-width":"120px"}},[t("el-row",{staticClass:"row_ce"},["管理员"===e.user_group||e.$check_field("get","song_title")||e.$check_field("add","song_title")||e.$check_field("set","song_title")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"歌曲名称",prop:"song_title"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","song_title")||!e.form["popular_songs_id"]&&e.$check_field("add","song_title")?t("el-input",{attrs:{id:"song_title",placeholder:"请输入歌曲名称",disabled:e.disabledObj["song_title_isDisabled"]},model:{value:e.form["song_title"],callback:function(i){e.$set(e.form,"song_title",i)},expression:"form['song_title']"}}):e.$check_field("get","song_title")?t("div",[e._v(e._s(e.form["song_title"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","music_genre")||e.$check_field("add","music_genre")||e.$check_field("set","music_genre")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"音乐类型",prop:"music_genre"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","music_genre")||!e.form["popular_songs_id"]&&e.$check_field("add","music_genre")?t("el-select",{attrs:{id:"music_genre"},model:{value:e.form["music_genre"],callback:function(i){e.$set(e.form,"music_genre",i)},expression:"form['music_genre']"}},e._l(e.list_music_genre,(function(e){return t("el-option",{key:e["music_genre"],attrs:{label:e["music_genre"],value:e["music_genre"]}})})),1):e.$check_field("get","music_genre")?t("div",[e._v(e._s(e.form["music_genre"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","singer_name")||e.$check_field("add","singer_name")||e.$check_field("set","singer_name")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"歌手姓名",prop:"singer_name"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","singer_name")||!e.form["popular_songs_id"]&&e.$check_field("add","singer_name")?t("el-input",{attrs:{id:"singer_name",placeholder:"请输入歌手姓名",disabled:e.disabledObj["singer_name_isDisabled"]},model:{value:e.form["singer_name"],callback:function(i){e.$set(e.form,"singer_name",i)},expression:"form['singer_name']"}}):e.$check_field("get","singer_name")?t("div",[e._v(e._s(e.form["singer_name"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","release_time")||e.$check_field("add","release_time")||e.$check_field("set","release_time")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"发行时间",prop:"release_time"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","release_time")||!e.form["popular_songs_id"]&&e.$check_field("add","release_time")?t("el-date-picker",{attrs:{disabled:e.disabledObj["release_time_isDisabled"],id:"release_time",type:"date",placeholder:"选择日期"},model:{value:e.form["release_time"],callback:function(i){e.$set(e.form,"release_time",i)},expression:"form['release_time']"}}):e.$check_field("get","release_time")?t("div",[e._v(e._s(e.form["release_time"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","singer_photos")||e.$check_field("add","singer_photos")||e.$check_field("set","singer_photos")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"歌手照片",prop:"singer_photos"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","singer_photos")||!e.form["popular_songs_id"]&&e.$check_field("add","singer_photos")?t("el-upload",{staticClass:"avatar-uploader",attrs:{disabled:e.disabledObj["singer_photos_isDisabled"],id:"singer_photos",drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":e.upload_singer_photos,"show-file-list":!1}},[e.form["singer_photos"]?t("img",{staticClass:"avatar",attrs:{src:e.$fullUrl(e.form["singer_photos"])}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]):e.$check_field("get","singer_photos")?t("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.$fullUrl(e.form["singer_photos"]),"preview-src-list":[e.$fullUrl(e.form["singer_photos"])]}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("img",{staticStyle:{width:"90px",height:"90px"},attrs:{src:s("84f9")}})])]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","album_name")||e.$check_field("add","album_name")||e.$check_field("set","album_name")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"专辑名称",prop:"album_name"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","album_name")||!e.form["popular_songs_id"]&&e.$check_field("add","album_name")?t("el-input",{attrs:{id:"album_name",placeholder:"请输入专辑名称",disabled:e.disabledObj["album_name_isDisabled"]},model:{value:e.form["album_name"],callback:function(i){e.$set(e.form,"album_name",i)},expression:"form['album_name']"}}):e.$check_field("get","album_name")?t("div",[e._v(e._s(e.form["album_name"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","playback_quantity")||e.$check_field("add","playback_quantity")||e.$check_field("set","playback_quantity")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"播放数量",prop:"playback_quantity"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","playback_quantity")||!e.form["popular_songs_id"]&&e.$check_field("add","playback_quantity")?t("el-input-number",{attrs:{id:"playback_quantity",disabled:e.disabledObj["playback_quantity_isDisabled"]},model:{value:e.form["playback_quantity"],callback:function(i){e.$set(e.form,"playback_quantity",e._n(i))},expression:"form['playback_quantity']"}}):e.$check_field("get","playback_quantity")?t("div",[e._v(e._s(e.form["playback_quantity"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","music_audio")||e.$check_field("add","music_audio")||e.$check_field("set","music_audio")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"音乐音频",prop:"music_audio"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","music_audio")||!e.form["popular_songs_id"]&&e.$check_field("add","music_audio")?t("el-upload",{staticClass:"upload-demo",staticStyle:{"max-width":"300px",width:"100%"},attrs:{drag:"",action:"","http-request":e.upload_music_audio,limit:1,accept:"audio/ogg,audio/mp3,audio/wav"}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text"},[e._v("将音频拖到此处，或"),t("em",[e._v("点击上传")])])]):e.$check_field("get","music_audio")?t("div",[t("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.download(e.form["music_audio"])}}},[e._v("下载"),t("i",{staticClass:"el-icon-download el-icon--right"})])],1):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","music_introduction")||e.$check_field("add","music_introduction")||e.$check_field("set","music_introduction")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"音乐简介",prop:"music_introduction"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","music_introduction")||!e.form["popular_songs_id"]&&e.$check_field("add","music_introduction")?t("el-input",{attrs:{type:"textarea",id:"music_introduction",placeholder:"请输入音乐简介",disabled:e.disabledObj["music_introduction_isDisabled"]},model:{value:e.form["music_introduction"],callback:function(i){e.$set(e.form,"music_introduction",i)},expression:"form['music_introduction']"}}):e.$check_field("get","music_introduction")?t("div",[e._v(e._s(e.form["music_introduction"]))]):e._e()],1)],1):e._e(),"管理员"===e.user_group||e.$check_field("get","music_content")||e.$check_field("add","music_content")||e.$check_field("set","music_content")?t("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[t("el-form-item",{attrs:{label:"音乐内容",prop:"music_content"}},["管理员"===e.user_group||e.form["popular_songs_id"]&&e.$check_field("set","music_content")||!e.form["popular_songs_id"]&&e.$check_field("add","music_content")?t("el-input",{attrs:{type:"textarea",id:"music_content",placeholder:"请输入音乐内容",disabled:e.disabledObj["music_content_isDisabled"]},model:{value:e.form["music_content"],callback:function(i){e.$set(e.form,"music_content",i)},expression:"form['music_content']"}}):e.$check_field("get","music_content")?t("div",[e._v(e._s(e.form["music_content"]))]):e._e()],1)],1):e._e()],1),t("el-col",{staticClass:"el_form_btn_warp",attrs:{xs:24,sm:12,lg:8}},[e.$check_action("/popular_songs/view","set")||e.$check_action("/popular_songs/view","add")||e.$check_option("/popular_songs/table","examine")?t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.submit()}}},[e._v("提交")]),t("el-button",{on:{click:function(i){return e.cancel()}}},[e._v("取消")])],1):t("el-form-item",[t("el-button",{on:{click:function(i){return e.cancel()}}},[e._v("返回")])],1)],1)],1):e._e()],1)},a=[],l=(s("b64b"),s("159b"),s("96cf"),s("1da1")),o=s("c6e7"),r={mixins:[o["a"]],data:function(){return{field:"popular_songs_id",url_add:"~/api/popular_songs/add?",url_set:"~/api/popular_songs/set?",url_get_obj:"~/api/popular_songs/get_obj?",url_upload:"~/api/popular_songs/upload?",query:{popular_songs_id:0},form:{song_title:"",music_genre:"",singer_name:"",release_time:"",singer_photos:"",album_name:"",playback_quantity:0,music_audio:"",music_introduction:"",music_content:"",popular_songs_id:0},disabledObj:{song_title_isDisabled:!1,music_genre_isDisabled:!1,singer_name_isDisabled:!1,release_time_isDisabled:!1,singer_photos_isDisabled:!1,album_name_isDisabled:!1,playback_quantity_isDisabled:!1,music_audio_isDisabled:!1,music_introduction_isDisabled:!1,music_content_isDisabled:!1},list_music_genre:[""]}},methods:{get_list_music_genre:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.$get("~/api/music_classification/get_list?");case 2:s=i.sent,s.result&&s.result.list?e.list_music_genre=s.result.list:s.error&&console.error(s.error);case 4:case"end":return i.stop()}}),i)})))()},upload_singer_photos:function(e){this.uploadFile(e.file,"singer_photos")},upload_music_audio:function(e){this.uploadFile(e.file,"music_audio")},get_obj_before:function(e){var i=this,s="";return this.form&&s&&Object.keys(this.form).forEach((function(e){Object.keys(s).forEach((function(s){e===s&&(i.disabledObj[e+"_isDisabled"]=!0)}))})),this.form["release_time"]&&-1===this.form["release_time"].indexOf("-")&&(this.form["release_time"]=this.$toTime(parseInt(this.form["release_time"]),"yyyy-MM-dd")),$.db.del("form"),e},get_obj_after:function(e,i){"0000-00-00"==this.form["release_time"]&&(this.form["release_time"]=null),parseInt(this.form["release_time"])>9999&&(this.form["release_time"]=this.$toTime(parseInt(this.form["release_time"]),"yyyy-MM-dd"))},submit_check:function(e){return e.release_time?null:"发行时间不能为空"},is_view:function(){var e="管理员"==this.user_group;return e||(e=this.$check_action("/popular_songs/table","add"),console.log(e?"你有表格添加权限视作有添加权限":"你没有表格添加权限")),e||(e=this.$check_action("/popular_songs/table","set"),console.log(e?"你有表格添加权限视作有修改权限":"你没有表格修改权限")),e||(e=this.$check_action("/popular_songs/view","add"),console.log(e?"你有视图添加权限视作有添加权限":"你没有视图添加权限")),e||(e=this.$check_action("/popular_songs/view","set"),console.log(e?"你有视图修改权限视作有修改权限":"你没有视图修改权限")),e||(e=this.$check_action("/popular_songs/view","get"),console.log(e?"你有视图查询权限视作有查询权限":"你没有视图查询权限")),console.log(e?"具有当前页面的查看权，请注意这不代表你有字段的查看权":"无权查看当前页，请注意即便有字段查询权限没有页面查询权限也不行"),e},uploadimg:function(e){this.uploadFile(e.file,"avatar")}},created:function(){this.get_list_music_genre()}},_=r,c=(s("f134"),s("2877")),n=Object(c["a"])(_,t,a,!1,null,null,null);i["default"]=n.exports},f134:function(e,i,s){"use strict";s("fd36")},fd36:function(e,i,s){}}]);